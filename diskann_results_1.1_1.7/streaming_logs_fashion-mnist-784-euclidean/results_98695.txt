Dataset:  Alpha: 1.1 | Beginning Index: 10000 | Max Points: 30000
Base path: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean
Alpha: 1.1
Beginning index size: 10000
Max points to insert: 30000
Number of iterations: 20
Start insertion index: 10000
Number of insertions: 2000
Start deletion index: 0
Number of deletions: 1000
L2: Using AVX2 distance computation DistanceL2Float
Read 10000 points using non-cached reads in 0.27037
load aligned bin succeeded
Starting index build with 10000 points... 
0% of index build completed.Starting final cleanup..done. Link time: 2.67821s
Index built with degree: max:64  avg:14.1153  min:1  count(deg<2):110
Initial non-incremental index build time for 10000 points took 2.73272 seconds (3659.35 points/second)
 Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 10001, #dims = 1, size = 40012B
Finished writing bin.
Time taken for save: 0.625294s.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 10001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 604820, _max_observed_degree: 64, _start: 10000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 10001 nodes and 141198 out-edges, _start is set to 10000
Num frozen points:1 _nd: 10000 _start: 30000 size(_location_to_tag): 10000 size(_tag_to_location):10000 Max points: 30000

Lazy deleting points 0 to 1000... done.
Starting consolidate_deletes...  done in 0.500512 seconds.
#active points: 9000
max points: 30000
empty slots: 21000
deletes processed: 1000
latest delete size: 0
rate: (1997.95 points/second overall, 31.218 per thread)
Read 2000 points using non-cached reads in 0.063155
Insertion time 1.03329 seconds (1935.56 points/second overall, 30.2431 per thread)
 Time taken for compact_data: 0.040034s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 11001, #dims = 1, size = 44012B
Finished writing bin.
Time taken for save: 0.742782s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000660597s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 11001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1023748, _max_observed_degree: 73, _start: 11000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 11001 nodes and 244930 out-edges, _start is set to 11000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 11000 _start: 11000 size(_location_to_tag): 11000 size(_tag_to_location):11000 Max points: 11000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20    10294.50             5781.10       85520.54       99.39
  40     7178.63             8494.42      102539.13       99.90
  60     5917.59            10499.10       78900.26       99.97
  80     5110.34            12280.95       78383.66       99.98
 100     4512.20            13948.91       99506.73       99.99
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 11001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1023748, _max_observed_degree: 73, _start: 11000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 11001 nodes and 244930 out-edges, _start is set to 11000
Num frozen points:1 _nd: 11000 _start: 30000 size(_location_to_tag): 11000 size(_tag_to_location):11000 Max points: 30000

Lazy deleting points 1000 to 2000... done.
Starting consolidate_deletes...  done in 0.784004 seconds.
#active points: 10000
max points: 30000
empty slots: 20000
deletes processed: 1000
latest delete size: 0
rate: (1275.5 points/second overall, 19.9297 per thread)
Read 2000 points using non-cached reads in 0.071625
Insertion time 1.09318 seconds (1829.53 points/second overall, 28.5864 per thread)
 Time taken for compact_data: 0.072075s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 12001, #dims = 1, size = 48012B
Finished writing bin.
Time taken for save: 0.635202s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000730197s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 12001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 972912, _max_observed_degree: 71, _start: 12000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 12001 nodes and 231221 out-edges, _start is set to 12000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 12000 _start: 12000 size(_location_to_tag): 12000 size(_tag_to_location):12000 Max points: 12000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20    10588.88             5679.84       85631.60       99.12
  40     7163.77             8638.37       81906.79       99.83
  60     5897.39            10680.76       81997.73       99.94
  80     4994.76            12514.72       78947.26       99.97
 100     4407.06            14235.30       80001.20       99.98
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 12001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 972912, _max_observed_degree: 71, _start: 12000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 12001 nodes and 231221 out-edges, _start is set to 12000
Num frozen points:1 _nd: 12000 _start: 30000 size(_location_to_tag): 12000 size(_tag_to_location):12000 Max points: 30000

Lazy deleting points 2000 to 3000... done.
Starting consolidate_deletes...  done in 0.705511 seconds.
#active points: 11000
max points: 30000
empty slots: 19000
deletes processed: 1000
latest delete size: 0
rate: (1417.41 points/second overall, 22.1471 per thread)
Read 2000 points using non-cached reads in 0.071578
Insertion time 1.13351 seconds (1764.44 points/second overall, 27.5693 per thread)
 Time taken for compact_data: 0.074184s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 13001, #dims = 1, size = 52012B
Finished writing bin.
Time taken for save: 0.712456s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000663362s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 13001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 954556, _max_observed_degree: 70, _start: 13000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 13001 nodes and 225632 out-edges, _start is set to 13000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 13000 _start: 13000 size(_location_to_tag): 13000 size(_tag_to_location):13000 Max points: 13000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20    16893.23             3464.43       68604.12       98.99
  40    11975.97             5130.60       69192.27       99.81
  60     9475.10             6502.74       73763.66       99.92
  80     7263.42             8581.71       74904.35       99.95
 100     4791.62            13032.18       90736.88       99.97
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 13001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 954556, _max_observed_degree: 70, _start: 13000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 13001 nodes and 225632 out-edges, _start is set to 13000
Num frozen points:1 _nd: 13000 _start: 30000 size(_location_to_tag): 13000 size(_tag_to_location):13000 Max points: 30000

Lazy deleting points 3000 to 4000... done.
Starting consolidate_deletes...  done in 0.599198 seconds.
#active points: 12000
max points: 30000
empty slots: 18000
deletes processed: 1000
latest delete size: 0
rate: (1668.9 points/second overall, 26.0765 per thread)
Read 2000 points using non-cached reads in 0.066129
Insertion time 1.21579 seconds (1645.02 points/second overall, 25.7034 per thread)
 Time taken for compact_data: 0.032954s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 14001, #dims = 1, size = 56012B
Finished writing bin.
Time taken for save: 0.770702s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000862896s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 14001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1068036, _max_observed_degree: 69, _start: 14000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 14001 nodes and 253002 out-edges, _start is set to 14000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 14000 _start: 14000 size(_location_to_tag): 14000 size(_tag_to_location):14000 Max points: 14000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20    10060.77             6016.85       74441.63       98.89
  40     6838.21             9068.07       76260.98       99.77
  60     8182.81             7622.40       66035.48       99.92
  80     7646.83             8110.91       77760.45       99.95
 100     6056.06            10346.95       82387.73       99.97
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 14001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1068036, _max_observed_degree: 69, _start: 14000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 14001 nodes and 253002 out-edges, _start is set to 14000
Num frozen points:1 _nd: 14000 _start: 30000 size(_location_to_tag): 14000 size(_tag_to_location):14000 Max points: 30000

Lazy deleting points 4000 to 5000... done.
Starting consolidate_deletes...  done in 0.701799 seconds.
#active points: 13000
max points: 30000
empty slots: 17000
deletes processed: 1000
latest delete size: 0
rate: (1424.91 points/second overall, 22.2642 per thread)
Read 2000 points using non-cached reads in 0.071814
Insertion time 1.1125 seconds (1797.76 points/second overall, 28.09 per thread)
 Time taken for compact_data: 0.009524s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 15001, #dims = 1, size = 60012B
Finished writing bin.
Time taken for save: 1.05916s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.00081757s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 15001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1129804, _max_observed_degree: 72, _start: 15000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 15001 nodes and 267444 out-edges, _start is set to 15000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 15000 _start: 15000 size(_location_to_tag): 15000 size(_tag_to_location):15000 Max points: 15000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     9657.67             6235.37       73183.73       98.81
  40     6678.75             9327.46       70519.55       99.78
  60     5253.36            11844.20       82952.70       99.93
  80     4511.87            13898.88       75108.47       99.95
 100     3950.31            15973.29       84485.39       99.97
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 15001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1129804, _max_observed_degree: 72, _start: 15000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 15001 nodes and 267444 out-edges, _start is set to 15000
Num frozen points:1 _nd: 15000 _start: 30000 size(_location_to_tag): 15000 size(_tag_to_location):15000 Max points: 30000

Lazy deleting points 5000 to 6000... done.
Starting consolidate_deletes...  done in 0.491029 seconds.
#active points: 14000
max points: 30000
empty slots: 16000
deletes processed: 1000
latest delete size: 0
rate: (2036.54 points/second overall, 31.8209 per thread)
Read 2000 points using non-cached reads in 0.084928
Insertion time 0.775946 seconds (2577.5 points/second overall, 40.2734 per thread)
 Time taken for compact_data: 0.031414s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 16001, #dims = 1, size = 64012B
Finished writing bin.
Time taken for save: 2.22441s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000733523s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 16001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1219968, _max_observed_degree: 69, _start: 16000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 16001 nodes and 288985 out-edges, _start is set to 16000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 16000 _start: 16000 size(_location_to_tag): 16000 size(_tag_to_location):16000 Max points: 16000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     9989.86             6076.88       86913.21       98.79
  40     8005.37             7763.70       74606.41       99.76
  60     6792.07             9171.12       76650.84       99.93
  80     4563.83            13793.46       75868.20       99.96
 100     3733.32            16859.97       88225.83       99.97
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 16001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1219968, _max_observed_degree: 69, _start: 16000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 16001 nodes and 288985 out-edges, _start is set to 16000
Num frozen points:1 _nd: 16000 _start: 30000 size(_location_to_tag): 16000 size(_tag_to_location):16000 Max points: 30000

Lazy deleting points 6000 to 7000... done.
Starting consolidate_deletes...  done in 0.718874 seconds.
#active points: 15000
max points: 30000
empty slots: 15000
deletes processed: 1000
latest delete size: 0
rate: (1391.06 points/second overall, 21.7354 per thread)
Read 2000 points using non-cached reads in 0.081964
Insertion time 1.36047 seconds (1470.08 points/second overall, 22.97 per thread)
 Time taken for compact_data: 0.056802s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 17001, #dims = 1, size = 68012B
Finished writing bin.
Time taken for save: 0.974376s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000899675s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 17001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1281296, _max_observed_degree: 70, _start: 17000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 17001 nodes and 303317 out-edges, _start is set to 17000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 17000 _start: 17000 size(_location_to_tag): 17000 size(_tag_to_location):17000 Max points: 17000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20    11841.50             5054.70       87080.20       98.75
  40    10090.20             6073.41       61553.61       99.75
  60     8079.62             7668.42       65543.80       99.89
  80     5972.61            10363.15       68455.45       99.94
 100     4181.84            15052.86       84093.73       99.96
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 17001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1281296, _max_observed_degree: 70, _start: 17000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 17001 nodes and 303317 out-edges, _start is set to 17000
Num frozen points:1 _nd: 17000 _start: 30000 size(_location_to_tag): 17000 size(_tag_to_location):17000 Max points: 30000

Lazy deleting points 7000 to 8000... done.
Starting consolidate_deletes...  done in 0.53149 seconds.
#active points: 16000
max points: 30000
empty slots: 14000
deletes processed: 1000
latest delete size: 0
rate: (1881.5 points/second overall, 29.3985 per thread)
Read 2000 points using non-cached reads in 0.061135
Insertion time 1.07375 seconds (1862.63 points/second overall, 29.1036 per thread)
 Time taken for compact_data: 0.026098s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 18001, #dims = 1, size = 72012B
Finished writing bin.
Time taken for save: 0.844195s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.00216683s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 18001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1348196, _max_observed_degree: 69, _start: 18000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 18001 nodes and 319042 out-edges, _start is set to 18000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 18000 _start: 18000 size(_location_to_tag): 18000 size(_tag_to_location):18000 Max points: 18000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     8896.68             6835.97       65889.45       98.68
  40     6063.74            10265.79       74623.73       99.76
  60     4869.02            12872.15       87836.68       99.91
  80     4118.39            15294.17       86347.59       99.95
 100     4091.58            15430.61       85017.62       99.97
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 18001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1348196, _max_observed_degree: 69, _start: 18000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 18001 nodes and 319042 out-edges, _start is set to 18000
Num frozen points:1 _nd: 18000 _start: 30000 size(_location_to_tag): 18000 size(_tag_to_location):18000 Max points: 30000

Lazy deleting points 8000 to 9000... done.
Starting consolidate_deletes...  done in 0.479277 seconds.
#active points: 17000
max points: 30000
empty slots: 13000
deletes processed: 1000
latest delete size: 0
rate: (2086.48 points/second overall, 32.6012 per thread)
Read 2000 points using non-cached reads in 1.50876
Insertion time 0.841194 seconds (2377.57 points/second overall, 37.1496 per thread)
 Time taken for compact_data: 0.046439s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 19001, #dims = 1, size = 76012B
Finished writing bin.
Time taken for save: 0.897938s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000914208s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 19001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1424312, _max_observed_degree: 69, _start: 19000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 19001 nodes and 337071 out-edges, _start is set to 19000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 19000 _start: 19000 size(_location_to_tag): 19000 size(_tag_to_location):19000 Max points: 19000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20    13234.95             4547.84       97867.42       98.58
  40     7496.78             8224.13       77754.36       99.74
  60     4770.67            13140.18       93663.18       99.89
  80     3966.33            15774.00       85498.70       99.94
 100     3550.78            17743.75      104009.32       99.97
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 19001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1424312, _max_observed_degree: 69, _start: 19000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 19001 nodes and 337071 out-edges, _start is set to 19000
Num frozen points:1 _nd: 19000 _start: 30000 size(_location_to_tag): 19000 size(_tag_to_location):19000 Max points: 30000

Lazy deleting points 9000 to 10000... done.
Starting consolidate_deletes...  done in 0.618329 seconds.
#active points: 18000
max points: 30000
empty slots: 12000
deletes processed: 1000
latest delete size: 0
rate: (1617.26 points/second overall, 25.2697 per thread)
Read 2000 points using non-cached reads in 0.073371
Insertion time 1.45049 seconds (1378.85 points/second overall, 21.5445 per thread)
 Time taken for compact_data: 0.037588s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 20001, #dims = 1, size = 80012B
Finished writing bin.
Time taken for save: 0.95611s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.00150344s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 20001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1493804, _max_observed_degree: 68, _start: 20000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 20001 nodes and 353444 out-edges, _start is set to 20000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 20000 _start: 20000 size(_location_to_tag): 20000 size(_tag_to_location):20000 Max points: 20000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20    13276.28             4236.34       82077.12       98.53
  40     9554.40             6392.98       69822.92       99.69
  60     7258.18             8287.23       67656.26       99.88
  80     6416.57             9758.57       70554.66       99.93
 100     5662.27            11125.25       79046.95       99.96
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 20001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1493804, _max_observed_degree: 68, _start: 20000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 20001 nodes and 353444 out-edges, _start is set to 20000
Num frozen points:1 _nd: 20000 _start: 30000 size(_location_to_tag): 20000 size(_tag_to_location):20000 Max points: 30000

Lazy deleting points 10000 to 11000... done.
Starting consolidate_deletes...  done in 0.684498 seconds.
#active points: 19000
max points: 30000
empty slots: 11000
deletes processed: 1000
latest delete size: 0
rate: (1460.92 points/second overall, 22.8269 per thread)
Read 2000 points using non-cached reads in 0.063684
Insertion time 1.08842 seconds (1837.52 points/second overall, 28.7113 per thread)
 Time taken for compact_data: 0.038122s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 21001, #dims = 1, size = 84012B
Finished writing bin.
Time taken for save: 1.12377s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.00119823s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 21001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1583280, _max_observed_degree: 69, _start: 21000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 21001 nodes and 374813 out-edges, _start is set to 21000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 21000 _start: 21000 size(_location_to_tag): 21000 size(_tag_to_location):21000 Max points: 21000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     8573.95             7077.61       70278.96       98.50
  40     5913.26            10600.82       88105.98       99.70
  60     4622.94            13569.83       79913.09       99.87
  80     3873.74            16129.55       81024.02       99.92
 100     3423.09            18413.91       83286.98       99.95
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 21001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1583280, _max_observed_degree: 69, _start: 21000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 21001 nodes and 374813 out-edges, _start is set to 21000
Num frozen points:1 _nd: 21000 _start: 30000 size(_location_to_tag): 21000 size(_tag_to_location):21000 Max points: 30000

Lazy deleting points 11000 to 12000... done.
Starting consolidate_deletes...  done in 0.503062 seconds.
#active points: 20000
max points: 30000
empty slots: 10000
deletes processed: 1000
latest delete size: 0
rate: (1987.83 points/second overall, 31.0598 per thread)
Read 2000 points using non-cached reads in 0.061019
Insertion time 0.901134 seconds (2219.43 points/second overall, 34.6785 per thread)
 Time taken for compact_data: 0.039039s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 22001, #dims = 1, size = 88012B
Finished writing bin.
Time taken for save: 2.42197s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.00121267s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 22001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1667772, _max_observed_degree: 68, _start: 22000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 22001 nodes and 394936 out-edges, _start is set to 22000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 22000 _start: 22000 size(_location_to_tag): 22000 size(_tag_to_location):22000 Max points: 22000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     8763.50             6985.92       70458.78       98.44
  40     8208.25             7474.92       66095.10       99.70
  60     5799.78            10752.95       77848.02       99.87
  80     3810.87            16516.93       81211.73       99.93
 100     3377.20            18660.17      101614.37       99.95
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 22001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1667772, _max_observed_degree: 68, _start: 22000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 22001 nodes and 394936 out-edges, _start is set to 22000
Num frozen points:1 _nd: 22000 _start: 30000 size(_location_to_tag): 22000 size(_tag_to_location):22000 Max points: 30000

Lazy deleting points 12000 to 13000... done.
Starting consolidate_deletes...  done in 0.484145 seconds.
#active points: 21000
max points: 30000
empty slots: 9000
deletes processed: 1000
latest delete size: 0
rate: (2065.5 points/second overall, 32.2734 per thread)
Read 2000 points using non-cached reads in 1.20014
Insertion time 0.932557 seconds (2144.64 points/second overall, 33.51 per thread)
 Time taken for compact_data: 0.04361s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 23001, #dims = 1, size = 92012B
Finished writing bin.
Time taken for save: 1.40977s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000789508s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 23001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1746840, _max_observed_degree: 69, _start: 23000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 23001 nodes and 413703 out-edges, _start is set to 23000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 23000 _start: 23000 size(_location_to_tag): 23000 size(_tag_to_location):23000 Max points: 23000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20    10731.98             5661.43       64121.81       98.40
  40     6926.81             8982.68       85569.40       99.68
  60     5365.09            11646.25       72426.79       99.87
  80     3797.31            16600.33       83825.96       99.93
 100     3342.92            18905.22       84020.52       99.95
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 23001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1746840, _max_observed_degree: 69, _start: 23000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 23001 nodes and 413703 out-edges, _start is set to 23000
Num frozen points:1 _nd: 23000 _start: 30000 size(_location_to_tag): 23000 size(_tag_to_location):23000 Max points: 30000

Lazy deleting points 13000 to 14000... done.
Starting consolidate_deletes...  done in 0.677828 seconds.
#active points: 22000
max points: 30000
empty slots: 8000
deletes processed: 1000
latest delete size: 0
rate: (1475.3 points/second overall, 23.0516 per thread)
Read 2000 points using non-cached reads in 0.061746
Insertion time 1.53383 seconds (1303.92 points/second overall, 20.3738 per thread)
 Time taken for compact_data: 0.064135s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 24001, #dims = 1, size = 96012B
Finished writing bin.
Time taken for save: 1.07222s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000631102s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 24001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1823460, _max_observed_degree: 67, _start: 24000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 24001 nodes and 431858 out-edges, _start is set to 24000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 24000 _start: 24000 size(_location_to_tag): 24000 size(_tag_to_location):24000 Max points: 24000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20    13220.83             4595.27       67748.57       98.42
  40     8840.39             7028.46       65731.11       99.71
  60     6998.76             8909.38       57550.52       99.87
  80     4842.96            12968.21       77688.15       99.94
 100     3727.09            16944.56       77285.80       99.96
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 24001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1823460, _max_observed_degree: 67, _start: 24000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 24001 nodes and 431858 out-edges, _start is set to 24000
Num frozen points:1 _nd: 24000 _start: 30000 size(_location_to_tag): 24000 size(_tag_to_location):24000 Max points: 30000

Lazy deleting points 14000 to 15000... done.
Starting consolidate_deletes...  done in 0.629358 seconds.
#active points: 23000
max points: 30000
empty slots: 7000
deletes processed: 1000
latest delete size: 0
rate: (1588.92 points/second overall, 24.8269 per thread)
Read 2000 points using non-cached reads in 0.061184
Insertion time 1.1068 seconds (1807.02 points/second overall, 28.2347 per thread)
 Time taken for compact_data: 0.056645s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 25001, #dims = 1, size = 100012B
Finished writing bin.
Time taken for save: 1.16208s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000786041s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 25001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1881044, _max_observed_degree: 69, _start: 25000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 25001 nodes and 445254 out-edges, _start is set to 25000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 25000 _start: 25000 size(_location_to_tag): 25000 size(_tag_to_location):25000 Max points: 25000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     8116.53             7454.42       73634.72       98.35
  40     5593.64            11131.56       82749.25       99.66
  60     4392.85            14300.00       84796.92       99.87
  80     3697.60            17091.17       88246.21       99.92
 100     5067.03            12291.69       78544.80       99.94
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 25001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1881044, _max_observed_degree: 69, _start: 25000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 25001 nodes and 445254 out-edges, _start is set to 25000
Num frozen points:1 _nd: 25000 _start: 30000 size(_location_to_tag): 25000 size(_tag_to_location):25000 Max points: 30000

Lazy deleting points 15000 to 16000... done.
Starting consolidate_deletes...  done in 0.478309 seconds.
#active points: 24000
max points: 30000
empty slots: 6000
deletes processed: 1000
latest delete size: 0
rate: (2090.7 points/second overall, 32.6672 per thread)
Read 2000 points using non-cached reads in 0.071174
Insertion time 1.37555 seconds (1453.96 points/second overall, 22.7182 per thread)
 Time taken for compact_data: 0.036295s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 26001, #dims = 1, size = 104012B
Finished writing bin.
Time taken for save: 1.20078s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000701182s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 26001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1968636, _max_observed_degree: 68, _start: 26000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 26001 nodes and 466152 out-edges, _start is set to 26000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 26000 _start: 26000 size(_location_to_tag): 26000 size(_tag_to_location):26000 Max points: 26000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     8724.31             6989.48       77803.93       98.25
  40     5257.53            11824.90       79855.18       99.63
  60     4323.64            14537.54       88475.54       99.86
  80     3662.56            17216.62       84513.57       99.92
 100     3218.18            19628.66       84337.44       99.94
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 26001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1968636, _max_observed_degree: 68, _start: 26000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 26001 nodes and 466152 out-edges, _start is set to 26000
Num frozen points:1 _nd: 26000 _start: 30000 size(_location_to_tag): 26000 size(_tag_to_location):26000 Max points: 30000

Lazy deleting points 16000 to 17000... done.
Starting consolidate_deletes...  done in 0.691611 seconds.
#active points: 25000
max points: 30000
empty slots: 5000
deletes processed: 1000
latest delete size: 0
rate: (1445.9 points/second overall, 22.5922 per thread)
Read 2000 points using non-cached reads in 0.428524
Insertion time 1.59922 seconds (1250.61 points/second overall, 19.5408 per thread)
 Time taken for compact_data: 0.037843s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 27001, #dims = 1, size = 108012B
Finished writing bin.
Time taken for save: 1.28823s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.00112521s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 27001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2056856, _max_observed_degree: 69, _start: 27000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 27001 nodes and 487207 out-edges, _start is set to 27000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 27000 _start: 27000 size(_location_to_tag): 27000 size(_tag_to_location):27000 Max points: 27000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20    11932.99             5073.83       59154.65       98.27
  40     6240.23             9856.69       67145.22       99.62
  60     4303.83            14599.17       84237.82       99.86
  80     4592.75            13727.07       78355.52       99.92
 100     3444.48            18194.44      100854.77       99.95
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 27001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2056856, _max_observed_degree: 69, _start: 27000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 27001 nodes and 487207 out-edges, _start is set to 27000
Num frozen points:1 _nd: 27000 _start: 30000 size(_location_to_tag): 27000 size(_tag_to_location):27000 Max points: 30000

Lazy deleting points 17000 to 18000... done.
Starting consolidate_deletes...  done in 0.722064 seconds.
#active points: 26000
max points: 30000
empty slots: 4000
deletes processed: 1000
latest delete size: 0
rate: (1384.92 points/second overall, 21.6394 per thread)
Read 2000 points using non-cached reads in 0.068795
Insertion time 1.65699 seconds (1207.01 points/second overall, 18.8595 per thread)
 Time taken for compact_data: 0.091653s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 28001, #dims = 1, size = 112012B
Finished writing bin.
Time taken for save: 1.23429s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000676466s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 28001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2142604, _max_observed_degree: 68, _start: 28000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 28001 nodes and 507644 out-edges, _start is set to 28000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 28000 _start: 28000 size(_location_to_tag): 28000 size(_tag_to_location):28000 Max points: 28000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20    12382.40             4903.43       61534.80       98.21
  40     8307.67             7456.27       66144.23       99.59
  60     6518.68             9598.69       78719.06       99.85
  80     5500.45            11415.74       76188.62       99.91
 100     4609.53            13563.03      101301.84       99.95
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 28001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2142604, _max_observed_degree: 68, _start: 28000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 28001 nodes and 507644 out-edges, _start is set to 28000
Num frozen points:1 _nd: 28000 _start: 30000 size(_location_to_tag): 28000 size(_tag_to_location):28000 Max points: 30000

Lazy deleting points 18000 to 19000... done.
Starting consolidate_deletes...  done in 0.576837 seconds.
#active points: 27000
max points: 30000
empty slots: 3000
deletes processed: 1000
latest delete size: 0
rate: (1733.59 points/second overall, 27.0874 per thread)
Read 2000 points using non-cached reads in 0.065144
Insertion time 1.41006 seconds (1418.38 points/second overall, 22.1622 per thread)
 Time taken for compact_data: 0.032837s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 29001, #dims = 1, size = 116012B
Finished writing bin.
Time taken for save: 1.55143s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000965888s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 29001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2231180, _max_observed_degree: 69, _start: 29000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 29001 nodes and 528788 out-edges, _start is set to 29000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 29000 _start: 29000 size(_location_to_tag): 29000 size(_tag_to_location):29000 Max points: 29000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     7639.39             8072.55       75344.53       98.22
  40     5229.13            12048.97       79237.77       99.59
  60     4009.32            15672.60       84311.14       99.83
  80     3452.70            18194.23       82210.50       99.90
 100     3051.68            20762.38       82931.93       99.93
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 29001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2231180, _max_observed_degree: 69, _start: 29000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 29001 nodes and 528788 out-edges, _start is set to 29000
Num frozen points:1 _nd: 29000 _start: 30000 size(_location_to_tag): 29000 size(_tag_to_location):29000 Max points: 30000

Lazy deleting points 19000 to 20000... done.
Starting consolidate_deletes...  done in 0.695526 seconds.
#active points: 28000
max points: 30000
empty slots: 2000
deletes processed: 1000
latest delete size: 0
rate: (1437.76 points/second overall, 22.465 per thread)
Read 2000 points using non-cached reads in 0.066521
Insertion time 1.40286 seconds (1425.66 points/second overall, 22.2759 per thread)
 Time taken for compact_data: 0.006978s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 30001, #dims = 1, size = 120012B
Finished writing bin.
Not repositioning frozen point as it is already at the end.
Time taken for save: 2.16521s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000921345s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 30001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2257932, _max_observed_degree: 70, _start: 30000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 30001 nodes and 534476 out-edges, _start is set to 30000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 30000 _start: 30000 size(_location_to_tag): 30000 size(_tag_to_location):30000 Max points: 30000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     8998.82             6812.53       65947.70       98.23
  40     6660.58             9367.37       74879.14       99.62
  60     4745.02            13249.33       77429.30       99.83
  80     4150.29            15186.78       95004.20       99.91
 100     3266.49            19248.18       89755.81       99.94
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Dataset:  Alpha: 1.2 | Beginning Index: 10000 | Max Points: 30000
Base path: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean
Alpha: 1.2
Beginning index size: 10000
Max points to insert: 30000
Number of iterations: 20
Start insertion index: 10000
Number of insertions: 2000
Start deletion index: 0
Number of deletions: 1000
L2: Using AVX2 distance computation DistanceL2Float
Read 10000 points using non-cached reads in 0.032357
load aligned bin succeeded
Starting index build with 10000 points... 
0% of index build completed.Starting final cleanup..done. Link time: 4.05855s
Index built with degree: max:64  avg:32.4246  min:1  count(deg<2):25
Initial non-incremental index build time for 10000 points took 4.10297 seconds (2437.26 points/second)
 Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 10001, #dims = 1, size = 40012B
Finished writing bin.
Time taken for save: 0.431633s.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 10001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1337396, _max_observed_degree: 64, _start: 10000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 10001 nodes and 324342 out-edges, _start is set to 10000
Num frozen points:1 _nd: 10000 _start: 30000 size(_location_to_tag): 10000 size(_tag_to_location):10000 Max points: 30000

Lazy deleting points 0 to 1000... done.
Starting consolidate_deletes...  done in 2.53705 seconds.
#active points: 9000
max points: 30000
empty slots: 21000
deletes processed: 1000
latest delete size: 0
rate: (394.159 points/second overall, 6.15874 per thread)
Read 2000 points using non-cached reads in 0.007411
Insertion time 1.24467 seconds (1606.85 points/second overall, 25.1071 per thread)
 Time taken for compact_data: 0.049339s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 11001, #dims = 1, size = 44012B
Finished writing bin.
Time taken for save: 0.590272s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000880959s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 11001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1384312, _max_observed_degree: 83, _start: 11000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 11001 nodes and 335071 out-edges, _start is set to 11000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 11000 _start: 11000 size(_location_to_tag): 11000 size(_tag_to_location):11000 Max points: 11000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20    13783.15             4251.75       61270.35       99.87
  40     9444.33             6272.70       68868.77       99.98
  60     8078.61             7716.81       66172.27      100.00
  80     6855.95             9068.14       78133.21      100.00
 100     4626.56            13599.22       92131.05      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 11001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1384312, _max_observed_degree: 83, _start: 11000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 11001 nodes and 335071 out-edges, _start is set to 11000
Num frozen points:1 _nd: 11000 _start: 30000 size(_location_to_tag): 11000 size(_tag_to_location):11000 Max points: 30000

Lazy deleting points 1000 to 2000... done.
Starting consolidate_deletes...  done in 1.41663 seconds.
#active points: 10000
max points: 30000
empty slots: 20000
deletes processed: 1000
latest delete size: 0
rate: (705.899 points/second overall, 11.0297 per thread)
Read 2000 points using non-cached reads in 0.005789
Insertion time 0.788672 seconds (2535.91 points/second overall, 39.6236 per thread)
 Time taken for compact_data: 0.027493s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 12001, #dims = 1, size = 48012B
Finished writing bin.
Time taken for save: 0.592536s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000683901s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 12001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1640712, _max_observed_degree: 81, _start: 12000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 12001 nodes and 398171 out-edges, _start is set to 12000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 12000 _start: 12000 size(_location_to_tag): 12000 size(_tag_to_location):12000 Max points: 12000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     7717.10             7971.50       66230.83       99.87
  40     5484.49            11417.64       74294.69       99.99
  60     4359.88            14353.32       79497.77      100.00
  80     3839.98            16357.92       82457.31      100.00
 100     3329.39            18995.58      103873.29      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 12001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1640712, _max_observed_degree: 81, _start: 12000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 12001 nodes and 398171 out-edges, _start is set to 12000
Num frozen points:1 _nd: 12000 _start: 30000 size(_location_to_tag): 12000 size(_tag_to_location):12000 Max points: 30000

Lazy deleting points 2000 to 3000... done.
Starting consolidate_deletes...  done in 2.47369 seconds.
#active points: 11000
max points: 30000
empty slots: 19000
deletes processed: 1000
latest delete size: 0
rate: (404.254 points/second overall, 6.31647 per thread)
Read 2000 points using non-cached reads in 0.009568
Insertion time 0.816703 seconds (2448.87 points/second overall, 38.2636 per thread)
 Time taken for compact_data: 0.079307s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 13001, #dims = 1, size = 52012B
Finished writing bin.
Time taken for save: 1.98546s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.00100476s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 13001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1755476, _max_observed_degree: 83, _start: 13000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 13001 nodes and 425862 out-edges, _start is set to 13000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 13000 _start: 13000 size(_location_to_tag): 13000 size(_tag_to_location):13000 Max points: 13000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20    12065.32             5008.72       64985.97       99.86
  40     6123.83            10218.36       85770.48       99.99
  60     5002.32            12547.76       80033.21      100.00
  80     4632.65            13597.15       79145.04      100.00
 100     3747.71            16764.45       79077.31      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 13001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1755476, _max_observed_degree: 83, _start: 13000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 13001 nodes and 425862 out-edges, _start is set to 13000
Num frozen points:1 _nd: 13000 _start: 30000 size(_location_to_tag): 13000 size(_tag_to_location):13000 Max points: 30000

Lazy deleting points 3000 to 4000... done.
Starting consolidate_deletes...  done in 2.27522 seconds.
#active points: 12000
max points: 30000
empty slots: 18000
deletes processed: 1000
latest delete size: 0
rate: (439.517 points/second overall, 6.86746 per thread)
Read 2000 points using non-cached reads in 0.006827
Insertion time 1.53529 seconds (1302.68 points/second overall, 20.3544 per thread)
 Time taken for compact_data: 0.081992s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 14001, #dims = 1, size = 56012B
Finished writing bin.
Time taken for save: 0.735164s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000722583s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 14001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1990800, _max_observed_degree: 82, _start: 14000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 14001 nodes and 483693 out-edges, _start is set to 14000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 14000 _start: 14000 size(_location_to_tag): 14000 size(_tag_to_location):14000 Max points: 14000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     6892.41             8983.47       69098.51       99.85
  40     4855.58            12972.63       74838.91       99.98
  60     4745.24            13248.25       74101.34       99.99
  80     5636.54            11125.93       73051.72      100.00
 100     5021.46            12492.54       73471.97      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 14001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1990800, _max_observed_degree: 82, _start: 14000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 14001 nodes and 483693 out-edges, _start is set to 14000
Num frozen points:1 _nd: 14000 _start: 30000 size(_location_to_tag): 14000 size(_tag_to_location):14000 Max points: 30000

Lazy deleting points 4000 to 5000... done.
Starting consolidate_deletes...  done in 2.31413 seconds.
#active points: 13000
max points: 30000
empty slots: 17000
deletes processed: 1000
latest delete size: 0
rate: (432.129 points/second overall, 6.75201 per thread)
Read 2000 points using non-cached reads in 0.007039
Insertion time 1.54461 seconds (1294.83 points/second overall, 20.2317 per thread)
 Time taken for compact_data: 0.087185s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 15001, #dims = 1, size = 60012B
Finished writing bin.
Time taken for save: 0.758376s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000745486s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 15001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2086356, _max_observed_degree: 81, _start: 15000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 15001 nodes and 506582 out-edges, _start is set to 15000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 15000 _start: 15000 size(_location_to_tag): 15000 size(_tag_to_location):15000 Max points: 15000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     8670.22             7106.06       74562.76       99.83
  40     4647.15            13516.42       82691.95       99.98
  60     3745.41            16826.23       89050.81       99.99
  80     3230.32            19533.94       79983.37       99.99
 100     2850.03            22092.00       84674.09      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 15001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2086356, _max_observed_degree: 81, _start: 15000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 15001 nodes and 506582 out-edges, _start is set to 15000
Num frozen points:1 _nd: 15000 _start: 30000 size(_location_to_tag): 15000 size(_tag_to_location):15000 Max points: 30000

Lazy deleting points 5000 to 6000... done.
Starting consolidate_deletes...  done in 2.41866 seconds.
#active points: 14000
max points: 30000
empty slots: 16000
deletes processed: 1000
latest delete size: 0
rate: (413.452 points/second overall, 6.46018 per thread)
Read 2000 points using non-cached reads in 0.00601
Insertion time 0.96677 seconds (2068.74 points/second overall, 32.3241 per thread)
 Time taken for compact_data: 0.06854s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 16001, #dims = 1, size = 64012B
Finished writing bin.
Time taken for save: 2.34888s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000804256s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 16001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2322148, _max_observed_degree: 82, _start: 16000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 16001 nodes and 564530 out-edges, _start is set to 16000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 16000 _start: 16000 size(_location_to_tag): 16000 size(_tag_to_location):16000 Max points: 16000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20    10528.06             5793.15       61055.80       99.84
  40     5298.92            11767.50       80385.95       99.98
  60     4130.52            15222.41       77473.16       99.99
  80     3812.97            16615.19       77939.86      100.00
 100     3074.47            20578.02       99785.80      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 16001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2322148, _max_observed_degree: 82, _start: 16000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 16001 nodes and 564530 out-edges, _start is set to 16000
Num frozen points:1 _nd: 16000 _start: 30000 size(_location_to_tag): 16000 size(_tag_to_location):16000 Max points: 30000

Lazy deleting points 6000 to 7000... done.
Starting consolidate_deletes...  done in 3.05634 seconds.
#active points: 15000
max points: 30000
empty slots: 15000
deletes processed: 1000
latest delete size: 0
rate: (327.189 points/second overall, 5.11233 per thread)
Read 2000 points using non-cached reads in 0.00935
Insertion time 1.74922 seconds (1143.37 points/second overall, 17.8651 per thread)
 Time taken for compact_data: 0.071808s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 17001, #dims = 1, size = 68012B
Finished writing bin.
Time taken for save: 1.07943s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000914923s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 17001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2472748, _max_observed_degree: 83, _start: 17000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 17001 nodes and 601180 out-edges, _start is set to 17000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 17000 _start: 17000 size(_location_to_tag): 17000 size(_tag_to_location):17000 Max points: 17000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     5752.88            10821.15       88976.05       99.81
  40     6742.82             9325.48       75245.12       99.97
  60     5425.37            11387.87       72931.78       99.99
  80     4769.76            13212.60       76079.60      100.00
 100     3751.33            16840.99       85520.90      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 17001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2472748, _max_observed_degree: 83, _start: 17000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 17001 nodes and 601180 out-edges, _start is set to 17000
Num frozen points:1 _nd: 17000 _start: 30000 size(_location_to_tag): 17000 size(_tag_to_location):17000 Max points: 30000

Lazy deleting points 7000 to 8000... done.
Starting consolidate_deletes...  done in 2.76873 seconds.
#active points: 16000
max points: 30000
empty slots: 14000
deletes processed: 1000
latest delete size: 0
rate: (361.177 points/second overall, 5.64339 per thread)
Read 2000 points using non-cached reads in 0.006456
Insertion time 1.53529 seconds (1302.69 points/second overall, 20.3545 per thread)
 Time taken for compact_data: 0.096793s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 18001, #dims = 1, size = 72012B
Finished writing bin.
Time taken for save: 0.867253s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000955239s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 18001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2631920, _max_observed_degree: 79, _start: 18000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 18001 nodes and 639973 out-edges, _start is set to 18000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 18000 _start: 18000 size(_location_to_tag): 18000 size(_tag_to_location):18000 Max points: 18000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     6082.41            10183.52       74087.78       99.82
  40     4229.97            14845.31       76522.80       99.98
  60     3428.75            18421.41       73628.15       99.99
  80     2930.66            21572.99       89602.57      100.00
 100     2741.14            23034.33       95373.64      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 18001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2631920, _max_observed_degree: 79, _start: 18000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 18001 nodes and 639973 out-edges, _start is set to 18000
Num frozen points:1 _nd: 18000 _start: 30000 size(_location_to_tag): 18000 size(_tag_to_location):18000 Max points: 30000

Lazy deleting points 8000 to 9000... done.
Starting consolidate_deletes...  done in 2.27336 seconds.
#active points: 17000
max points: 30000
empty slots: 13000
deletes processed: 1000
latest delete size: 0
rate: (439.877 points/second overall, 6.87308 per thread)
Read 2000 points using non-cached reads in 0.105615
Insertion time 1.07996 seconds (1851.91 points/second overall, 28.9361 per thread)
 Time taken for compact_data: 0.040711s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 19001, #dims = 1, size = 76012B
Finished writing bin.
Time taken for save: 2.13367s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000926174s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 19001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2776476, _max_observed_degree: 78, _start: 19000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 19001 nodes and 675112 out-edges, _start is set to 19000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 19000 _start: 19000 size(_location_to_tag): 19000 size(_tag_to_location):19000 Max points: 19000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     6596.78             9370.43       71265.80       99.78
  40     4839.01            12979.41       75808.79       99.98
  60     3694.10            17043.52       71576.84       99.99
  80     2742.66            23072.76       87692.84      100.00
 100     2453.11            25805.28       89925.24      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 19001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2776476, _max_observed_degree: 78, _start: 19000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 19001 nodes and 675112 out-edges, _start is set to 19000
Num frozen points:1 _nd: 19000 _start: 30000 size(_location_to_tag): 19000 size(_tag_to_location):19000 Max points: 30000

Lazy deleting points 9000 to 10000... done.
Starting consolidate_deletes...  done in 3.38823 seconds.
#active points: 18000
max points: 30000
empty slots: 12000
deletes processed: 1000
latest delete size: 0
rate: (295.139 points/second overall, 4.61155 per thread)
Read 2000 points using non-cached reads in 0.008788
Insertion time 1.92487 seconds (1039.03 points/second overall, 16.2348 per thread)
 Time taken for compact_data: 0.116808s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 20001, #dims = 1, size = 80012B
Finished writing bin.
Time taken for save: 1.63865s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.00147755s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 20001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2984992, _max_observed_degree: 80, _start: 20000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 20001 nodes and 726241 out-edges, _start is set to 20000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 20000 _start: 20000 size(_location_to_tag): 20000 size(_tag_to_location):20000 Max points: 20000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     9187.05             6670.30       58201.08       99.78
  40     6417.03             9779.20       62021.72       99.98
  60     3969.55            15889.43       90947.52       99.99
  80     3132.49            20126.28       93277.66       99.99
 100     3074.02            20573.86       84082.32      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 20001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2984992, _max_observed_degree: 80, _start: 20000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 20001 nodes and 726241 out-edges, _start is set to 20000
Num frozen points:1 _nd: 20000 _start: 30000 size(_location_to_tag): 20000 size(_tag_to_location):20000 Max points: 30000

Lazy deleting points 10000 to 11000... done.
Starting consolidate_deletes...  done in 3.22894 seconds.
#active points: 19000
max points: 30000
empty slots: 11000
deletes processed: 1000
latest delete size: 0
rate: (309.7 points/second overall, 4.83906 per thread)
Read 2000 points using non-cached reads in 0.009105
Insertion time 1.92761 seconds (1037.55 points/second overall, 16.2118 per thread)
 Time taken for compact_data: 0.101341s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 21001, #dims = 1, size = 84012B
Finished writing bin.
Time taken for save: 1.03629s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.00106161s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 21001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 3136724, _max_observed_degree: 80, _start: 21000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 21001 nodes and 763174 out-edges, _start is set to 21000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 21000 _start: 21000 size(_location_to_tag): 21000 size(_tag_to_location):21000 Max points: 21000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     5467.88            11357.48       67392.11       99.80
  40     4363.47            14417.77      103687.10       99.98
  60     5034.41            12496.60       70772.45       99.99
  80     4319.78            14569.98       76916.09      100.00
 100     3819.63            16533.59       72327.56      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 21001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 3136724, _max_observed_degree: 80, _start: 21000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 21001 nodes and 763174 out-edges, _start is set to 21000
Num frozen points:1 _nd: 21000 _start: 30000 size(_location_to_tag): 21000 size(_tag_to_location):21000 Max points: 30000

Lazy deleting points 11000 to 12000... done.
Starting consolidate_deletes...  done in 2.91196 seconds.
#active points: 20000
max points: 30000
empty slots: 10000
deletes processed: 1000
latest delete size: 0
rate: (343.411 points/second overall, 5.3658 per thread)
Read 2000 points using non-cached reads in 0.007429
Insertion time 1.5255 seconds (1311.05 points/second overall, 20.4851 per thread)
 Time taken for compact_data: 0.07606s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 22001, #dims = 1, size = 88012B
Finished writing bin.
Time taken for save: 1.01864s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.00110774s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 22001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 3288188, _max_observed_degree: 82, _start: 22000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 22001 nodes and 800040 out-edges, _start is set to 22000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 22000 _start: 22000 size(_location_to_tag): 22000 size(_tag_to_location):22000 Max points: 22000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     5858.19            10488.13       69860.52       99.79
  40     3941.71            15519.17       82937.70       99.98
  60     3265.41            19338.16       83261.51       99.99
  80     2770.01            22823.53       91017.37      100.00
 100     2458.71            25749.31       95348.39      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 22001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 3288188, _max_observed_degree: 82, _start: 22000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 22001 nodes and 800040 out-edges, _start is set to 22000
Num frozen points:1 _nd: 22000 _start: 30000 size(_location_to_tag): 22000 size(_tag_to_location):22000 Max points: 30000

Lazy deleting points 12000 to 13000... done.
Starting consolidate_deletes...  done in 3.69586 seconds.
#active points: 21000
max points: 30000
empty slots: 9000
deletes processed: 1000
latest delete size: 0
rate: (270.573 points/second overall, 4.2277 per thread)
Read 2000 points using non-cached reads in 0.01067
Insertion time 1.9775 seconds (1011.38 points/second overall, 15.8028 per thread)
 Time taken for compact_data: 0.097633s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 23001, #dims = 1, size = 92012B
Finished writing bin.
Time taken for save: 1.06383s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000841326s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 23001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 3497880, _max_observed_degree: 78, _start: 23000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 23001 nodes and 851463 out-edges, _start is set to 23000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 23000 _start: 23000 size(_location_to_tag): 23000 size(_tag_to_location):23000 Max points: 23000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     5556.74            11127.74       89836.84       99.79
  40     3844.31            16438.67       83114.75       99.98
  60     3109.26            20302.72       99330.53       99.99
  80     2651.27            23835.83       99036.16      100.00
 100     2313.52            27267.83       96944.70      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 23001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 3497880, _max_observed_degree: 78, _start: 23000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 23001 nodes and 851463 out-edges, _start is set to 23000
Num frozen points:1 _nd: 23000 _start: 30000 size(_location_to_tag): 23000 size(_tag_to_location):23000 Max points: 30000

Lazy deleting points 13000 to 14000... done.
Starting consolidate_deletes...  done in 3.24271 seconds.
#active points: 22000
max points: 30000
empty slots: 8000
deletes processed: 1000
latest delete size: 0
rate: (308.384 points/second overall, 4.8185 per thread)
Read 2000 points using non-cached reads in 0.008109
Insertion time 1.74843 seconds (1143.89 points/second overall, 17.8732 per thread)
 Time taken for compact_data: 0.123866s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 24001, #dims = 1, size = 96012B
Finished writing bin.
Time taken for save: 1.16893s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000679722s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 24001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 3666580, _max_observed_degree: 83, _start: 24000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 24001 nodes and 892638 out-edges, _start is set to 24000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 24000 _start: 24000 size(_location_to_tag): 24000 size(_tag_to_location):24000 Max points: 24000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     8414.85             7208.25       70592.12       99.78
  40     5331.93            11729.68       73032.10       99.98
  60     4151.38            15164.59       74870.01       99.99
  80     3648.54            17285.60       78682.41      100.00
 100     3253.49            19442.22       78482.04      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 24001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 3666580, _max_observed_degree: 83, _start: 24000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 24001 nodes and 892638 out-edges, _start is set to 24000
Num frozen points:1 _nd: 24000 _start: 30000 size(_location_to_tag): 24000 size(_tag_to_location):24000 Max points: 30000

Lazy deleting points 14000 to 15000... done.
Starting consolidate_deletes...  done in 3.46565 seconds.
#active points: 23000
max points: 30000
empty slots: 7000
deletes processed: 1000
latest delete size: 0
rate: (288.546 points/second overall, 4.50854 per thread)
Read 2000 points using non-cached reads in 0.008473
Insertion time 2.11204 seconds (946.95 points/second overall, 14.7961 per thread)
 Time taken for compact_data: 0.068337s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 25001, #dims = 1, size = 100012B
Finished writing bin.
Time taken for save: 1.15607s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000799537s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 25001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 3833064, _max_observed_degree: 83, _start: 25000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 25001 nodes and 933259 out-edges, _start is set to 25000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 25000 _start: 25000 size(_location_to_tag): 25000 size(_tag_to_location):25000 Max points: 25000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     5389.36            11588.98       67569.53       99.76
  40     4100.61            15391.20       80939.29       99.97
  60     4619.68            13590.72       71584.59       99.99
  80     3053.32            20713.37       82105.57       99.99
 100     2821.39            22474.88      103152.52      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 25001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 3833064, _max_observed_degree: 83, _start: 25000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 25001 nodes and 933259 out-edges, _start is set to 25000
Num frozen points:1 _nd: 25000 _start: 30000 size(_location_to_tag): 25000 size(_tag_to_location):25000 Max points: 30000

Lazy deleting points 15000 to 16000... done.
Starting consolidate_deletes...  done in 2.57606 seconds.
#active points: 24000
max points: 30000
empty slots: 6000
deletes processed: 1000
latest delete size: 0
rate: (388.19 points/second overall, 6.06547 per thread)
Read 2000 points using non-cached reads in 0.006208
Insertion time 1.51059 seconds (1323.99 points/second overall, 20.6873 per thread)
 Time taken for compact_data: 0.092736s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 26001, #dims = 1, size = 104012B
Finished writing bin.
Time taken for save: 1.21334s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000708957s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 26001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 4018672, _max_observed_degree: 81, _start: 26000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 26001 nodes and 978661 out-edges, _start is set to 26000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 26000 _start: 26000 size(_location_to_tag): 26000 size(_tag_to_location):26000 Max points: 26000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     6293.17             9688.34       70218.77       99.77
  40     3572.52            17693.85       80541.11       99.97
  60     2936.91            21527.18       75112.50       99.99
  80     2508.98            25329.76      121668.61       99.99
 100     2225.04            28491.94      112016.12      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 26001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 4018672, _max_observed_degree: 81, _start: 26000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 26001 nodes and 978661 out-edges, _start is set to 26000
Num frozen points:1 _nd: 26000 _start: 30000 size(_location_to_tag): 26000 size(_tag_to_location):26000 Max points: 30000

Lazy deleting points 16000 to 17000... done.
Starting consolidate_deletes...  done in 2.47492 seconds.
#active points: 25000
max points: 30000
empty slots: 5000
deletes processed: 1000
latest delete size: 0
rate: (404.054 points/second overall, 6.31334 per thread)
Read 2000 points using non-cached reads in 0.110012
Insertion time 1.30628 seconds (1531.06 points/second overall, 23.9228 per thread)
 Time taken for compact_data: 0.042895s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 27001, #dims = 1, size = 108012B
Finished writing bin.
Time taken for save: 1.34692s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000713857s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 27001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 4144180, _max_observed_degree: 78, _start: 27000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 27001 nodes and 1009038 out-edges, _start is set to 27000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 27000 _start: 27000 size(_location_to_tag): 27000 size(_tag_to_location):27000 Max points: 27000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     6809.51             8995.67       92989.11       99.77
  40     4675.79            13401.32       75549.20       99.97
  60     3945.51            15998.19       85293.49       99.99
  80     3405.63            18526.54       81974.19       99.99
 100     3075.49            20568.94       82395.23      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 27001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 4144180, _max_observed_degree: 78, _start: 27000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 27001 nodes and 1009038 out-edges, _start is set to 27000
Num frozen points:1 _nd: 27000 _start: 30000 size(_location_to_tag): 27000 size(_tag_to_location):27000 Max points: 30000

Lazy deleting points 17000 to 18000... done.
Starting consolidate_deletes...  done in 3.45335 seconds.
#active points: 26000
max points: 30000
empty slots: 4000
deletes processed: 1000
latest delete size: 0
rate: (289.574 points/second overall, 4.52459 per thread)
Read 2000 points using non-cached reads in 0.00731
Insertion time 2.16786 seconds (922.567 points/second overall, 14.4151 per thread)
 Time taken for compact_data: 0.073712s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 28001, #dims = 1, size = 112012B
Finished writing bin.
Time taken for save: 1.27221s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000911808s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 28001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 4325976, _max_observed_degree: 81, _start: 28000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 28001 nodes and 1053487 out-edges, _start is set to 28000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 28000 _start: 28000 size(_location_to_tag): 28000 size(_tag_to_location):28000 Max points: 28000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     4896.20            12697.01       84196.89       99.73
  40     3411.94            18440.97       86370.77       99.97
  60     4274.80            14754.28       67501.12       99.98
  80     3657.78            17209.34       76527.57       99.99
 100     2661.81            23711.51      102500.23       99.99
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 28001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 4325976, _max_observed_degree: 81, _start: 28000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 28001 nodes and 1053487 out-edges, _start is set to 28000
Num frozen points:1 _nd: 28000 _start: 30000 size(_location_to_tag): 28000 size(_tag_to_location):28000 Max points: 30000

Lazy deleting points 18000 to 19000... done.
Starting consolidate_deletes...  done in 3.03643 seconds.
#active points: 27000
max points: 30000
empty slots: 3000
deletes processed: 1000
latest delete size: 0
rate: (329.334 points/second overall, 5.14585 per thread)
Read 2000 points using non-cached reads in 0.007844
Insertion time 1.65038 seconds (1211.84 points/second overall, 18.935 per thread)
 Time taken for compact_data: 0.069686s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 29001, #dims = 1, size = 116012B
Finished writing bin.
Time taken for save: 1.47218s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000792845s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 29001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 4466024, _max_observed_degree: 82, _start: 29000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 29001 nodes and 1087499 out-edges, _start is set to 29000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 29000 _start: 29000 size(_location_to_tag): 29000 size(_tag_to_location):29000 Max points: 29000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     7198.53             8577.88       73699.91       99.71
  40     4889.61            12705.59       88086.61       99.97
  60     3316.25            19092.72       80891.23       99.99
  80     2372.23            26706.58       92371.07       99.99
 100     2112.46            29970.65      100826.48      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 29001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 4466024, _max_observed_degree: 82, _start: 29000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 29001 nodes and 1087499 out-edges, _start is set to 29000
Num frozen points:1 _nd: 29000 _start: 30000 size(_location_to_tag): 29000 size(_tag_to_location):29000 Max points: 30000

Lazy deleting points 19000 to 20000... done.
Starting consolidate_deletes...  done in 3.24086 seconds.
#active points: 28000
max points: 30000
empty slots: 2000
deletes processed: 1000
latest delete size: 0
rate: (308.56 points/second overall, 4.82126 per thread)
Read 2000 points using non-cached reads in 0.008181
Insertion time 2.23598 seconds (894.463 points/second overall, 13.976 per thread)
 Time taken for compact_data: 0.042088s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 30001, #dims = 1, size = 120012B
Finished writing bin.
Not repositioning frozen point as it is already at the end.
Time taken for save: 1.48098s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000775451s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 30001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 4721860, _max_observed_degree: 82, _start: 30000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 30001 nodes and 1150458 out-edges, _start is set to 30000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 30000 _start: 30000 size(_location_to_tag): 30000 size(_tag_to_location):30000 Max points: 30000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     6019.27            10421.02       79072.98       99.74
  40     3470.14            18170.75       77798.93       99.98
  60     3775.24            16704.95       82242.80       99.99
  80     3014.85            20944.86       91014.85       99.99
 100     2796.76            22647.91      126413.18      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Dataset:  Alpha: 1.3 | Beginning Index: 10000 | Max Points: 30000
Base path: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean
Alpha: 1.3
Beginning index size: 10000
Max points to insert: 30000
Number of iterations: 20
Start insertion index: 10000
Number of insertions: 2000
Start deletion index: 0
Number of deletions: 1000
L2: Using AVX2 distance computation DistanceL2Float
Read 10000 points using non-cached reads in 0.027149
load aligned bin succeeded
Starting index build with 10000 points... 
0% of index build completed.Starting final cleanup..done. Link time: 3.06711s
Index built with degree: max:64  avg:32.4533  min:1  count(deg<2):25
Initial non-incremental index build time for 10000 points took 3.09688 seconds (3229.06 points/second)
 Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 10001, #dims = 1, size = 40012B
Finished writing bin.
Time taken for save: 0.415194s.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 10001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1338544, _max_observed_degree: 64, _start: 10000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 10001 nodes and 324629 out-edges, _start is set to 10000
Num frozen points:1 _nd: 10000 _start: 30000 size(_location_to_tag): 10000 size(_tag_to_location):10000 Max points: 30000

Lazy deleting points 0 to 1000... done.
Starting consolidate_deletes...  done in 2.52113 seconds.
#active points: 9000
max points: 30000
empty slots: 21000
deletes processed: 1000
latest delete size: 0
rate: (396.648 points/second overall, 6.19762 per thread)
Read 2000 points using non-cached reads in 0.008783
Insertion time 1.3281 seconds (1505.91 points/second overall, 23.5299 per thread)
 Time taken for compact_data: 0.038685s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 11001, #dims = 1, size = 44012B
Finished writing bin.
Time taken for save: 0.585851s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000618768s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 11001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1386808, _max_observed_degree: 83, _start: 11000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 11001 nodes and 335695 out-edges, _start is set to 11000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 11000 _start: 11000 size(_location_to_tag): 11000 size(_tag_to_location):11000 Max points: 11000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     8406.59             7281.98       65519.61       99.87
  40     5897.55            10563.88       72985.27       99.99
  60     4863.31            12951.28       82236.20      100.00
  80     4204.23            14943.44       92960.68      100.00
 100     3738.06            16872.81       87511.21      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 11001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1386808, _max_observed_degree: 83, _start: 11000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 11001 nodes and 335695 out-edges, _start is set to 11000
Num frozen points:1 _nd: 11000 _start: 30000 size(_location_to_tag): 11000 size(_tag_to_location):11000 Max points: 30000

Lazy deleting points 1000 to 2000... done.
Starting consolidate_deletes...  done in 1.62135 seconds.
#active points: 10000
max points: 30000
empty slots: 20000
deletes processed: 1000
latest delete size: 0
rate: (616.77 points/second overall, 9.63704 per thread)
Read 2000 points using non-cached reads in 0.005879
Insertion time 0.779727 seconds (2565 points/second overall, 40.0781 per thread)
 Time taken for compact_data: 0.056086s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 12001, #dims = 1, size = 48012B
Finished writing bin.
Time taken for save: 1.70885s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.0005877s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 12001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1640196, _max_observed_degree: 81, _start: 12000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 12001 nodes and 398042 out-edges, _start is set to 12000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 12000 _start: 12000 size(_location_to_tag): 12000 size(_tag_to_location):12000 Max points: 12000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     8164.12             7598.92       73897.11       99.87
  40     5501.93            11247.73       80808.21       99.99
  60     6561.58             9471.06       74316.51      100.00
  80     5208.40            12055.59       94932.95      100.00
 100     4682.99            13284.97       71074.58      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 12001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1640196, _max_observed_degree: 81, _start: 12000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 12001 nodes and 398042 out-edges, _start is set to 12000
Num frozen points:1 _nd: 12000 _start: 30000 size(_location_to_tag): 12000 size(_tag_to_location):12000 Max points: 30000

Lazy deleting points 2000 to 3000... done.
Starting consolidate_deletes...  done in 2.6475 seconds.
#active points: 11000
max points: 30000
empty slots: 19000
deletes processed: 1000
latest delete size: 0
rate: (377.715 points/second overall, 5.9018 per thread)
Read 2000 points using non-cached reads in 0.006381
Insertion time 0.991662 seconds (2016.82 points/second overall, 31.5128 per thread)
 Time taken for compact_data: 0.030029s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 13001, #dims = 1, size = 52012B
Finished writing bin.
Time taken for save: 0.631087s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.00064081s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 13001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1762196, _max_observed_degree: 83, _start: 13000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 13001 nodes and 427542 out-edges, _start is set to 13000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 13000 _start: 13000 size(_location_to_tag): 13000 size(_tag_to_location):13000 Max points: 13000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20    10927.06             5542.16       72437.09       99.86
  40     8056.61             7752.44       79392.96       99.99
  60     6728.30             9317.29       74604.48      100.00
  80     3567.49            17722.49       68717.74      100.00
 100     3141.44            20131.27      136677.62      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 13001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1762196, _max_observed_degree: 83, _start: 13000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 13001 nodes and 427542 out-edges, _start is set to 13000
Num frozen points:1 _nd: 13000 _start: 30000 size(_location_to_tag): 13000 size(_tag_to_location):13000 Max points: 30000

Lazy deleting points 3000 to 4000... done.
Starting consolidate_deletes...  done in 2.91382 seconds.
#active points: 12000
max points: 30000
empty slots: 18000
deletes processed: 1000
latest delete size: 0
rate: (343.193 points/second overall, 5.36238 per thread)
Read 2000 points using non-cached reads in 0.00783
Insertion time 1.60296 seconds (1247.69 points/second overall, 19.4952 per thread)
 Time taken for compact_data: 0.085547s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 14001, #dims = 1, size = 56012B
Finished writing bin.
Time taken for save: 0.713643s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.00078527s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 14001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1977276, _max_observed_degree: 82, _start: 14000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 14001 nodes and 480312 out-edges, _start is set to 14000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 14000 _start: 14000 size(_location_to_tag): 14000 size(_tag_to_location):14000 Max points: 14000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     6856.07             8965.21       78326.05       99.85
  40     6030.54            10323.88       87549.91       99.98
  60     6490.89             9626.00       66644.62       99.99
  80     5562.98            11232.92       78649.31      100.00
 100     3819.90            16486.84       89162.48      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 14001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1977276, _max_observed_degree: 82, _start: 14000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 14001 nodes and 480312 out-edges, _start is set to 14000
Num frozen points:1 _nd: 14000 _start: 30000 size(_location_to_tag): 14000 size(_tag_to_location):14000 Max points: 30000

Lazy deleting points 4000 to 5000... done.
Starting consolidate_deletes...  done in 2.9975 seconds.
#active points: 13000
max points: 30000
empty slots: 17000
deletes processed: 1000
latest delete size: 0
rate: (333.611 points/second overall, 5.21268 per thread)
Read 2000 points using non-cached reads in 0.007061
Insertion time 1.24445 seconds (1607.14 points/second overall, 25.1116 per thread)
 Time taken for compact_data: 0.056351s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 15001, #dims = 1, size = 60012B
Finished writing bin.
Time taken for save: 0.710825s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000711893s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 15001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2110656, _max_observed_degree: 81, _start: 15000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 15001 nodes and 512657 out-edges, _start is set to 15000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 15000 _start: 15000 size(_location_to_tag): 15000 size(_tag_to_location):15000 Max points: 15000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     8859.93             6948.54       62219.67       99.83
  40     6397.75             9786.86       85660.09       99.98
  60     5271.97            11883.07       75395.83       99.99
  80     4766.33            13246.04       76382.37       99.99
 100     4515.07            13835.80       79095.77      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 15001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2110656, _max_observed_degree: 81, _start: 15000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 15001 nodes and 512657 out-edges, _start is set to 15000
Num frozen points:1 _nd: 15000 _start: 30000 size(_location_to_tag): 15000 size(_tag_to_location):15000 Max points: 30000

Lazy deleting points 5000 to 6000... done.
Starting consolidate_deletes...  done in 3.10198 seconds.
#active points: 14000
max points: 30000
empty slots: 16000
deletes processed: 1000
latest delete size: 0
rate: (322.375 points/second overall, 5.03711 per thread)
Read 2000 points using non-cached reads in 0.008187
Insertion time 1.74055 seconds (1149.06 points/second overall, 17.9541 per thread)
 Time taken for compact_data: 0.070784s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 16001, #dims = 1, size = 64012B
Finished writing bin.
Time taken for save: 0.781157s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.00211982s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 16001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2306876, _max_observed_degree: 82, _start: 16000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 16001 nodes and 560712 out-edges, _start is set to 16000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 16000 _start: 16000 size(_location_to_tag): 16000 size(_tag_to_location):16000 Max points: 16000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     6448.50             9510.34       76888.73       99.83
  40     4535.22            13817.97       74736.59       99.98
  60     3655.06            17185.65       84683.74       99.99
  80     3131.63            20158.03       96805.23      100.00
 100     4395.60            14278.37       72746.85      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 16001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2306876, _max_observed_degree: 82, _start: 16000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 16001 nodes and 560712 out-edges, _start is set to 16000
Num frozen points:1 _nd: 16000 _start: 30000 size(_location_to_tag): 16000 size(_tag_to_location):16000 Max points: 30000

Lazy deleting points 6000 to 7000... done.
Starting consolidate_deletes...  done in 2.85984 seconds.
#active points: 15000
max points: 30000
empty slots: 15000
deletes processed: 1000
latest delete size: 0
rate: (349.67 points/second overall, 5.46359 per thread)
Read 2000 points using non-cached reads in 0.008179
Insertion time 1.80444 seconds (1108.38 points/second overall, 17.3184 per thread)
 Time taken for compact_data: 0.071088s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 17001, #dims = 1, size = 68012B
Finished writing bin.
Time taken for save: 0.810588s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000862374s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 17001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2476296, _max_observed_degree: 81, _start: 17000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 17001 nodes and 602067 out-edges, _start is set to 17000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 17000 _start: 17000 size(_location_to_tag): 17000 size(_tag_to_location):17000 Max points: 17000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     7548.89             8091.01      102056.98       99.79
  40     5472.51            11458.83       73939.84       99.97
  60     4675.59            13438.32       71259.11       99.99
  80     4021.32            15652.56       94287.52      100.00
 100     3670.84            17225.58       81011.23      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 17001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2476296, _max_observed_degree: 81, _start: 17000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 17001 nodes and 602067 out-edges, _start is set to 17000
Num frozen points:1 _nd: 17000 _start: 30000 size(_location_to_tag): 17000 size(_tag_to_location):17000 Max points: 30000

Lazy deleting points 7000 to 8000... done.
Starting consolidate_deletes...  done in 2.98661 seconds.
#active points: 16000
max points: 30000
empty slots: 14000
deletes processed: 1000
latest delete size: 0
rate: (334.828 points/second overall, 5.23168 per thread)
Read 2000 points using non-cached reads in 0.007083
Insertion time 1.73297 seconds (1154.09 points/second overall, 18.0326 per thread)
 Time taken for compact_data: 0.076229s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 18001, #dims = 1, size = 72012B
Finished writing bin.
Time taken for save: 1.14784s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000950489s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 18001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2646528, _max_observed_degree: 79, _start: 18000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 18001 nodes and 643625 out-edges, _start is set to 18000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 18000 _start: 18000 size(_location_to_tag): 18000 size(_tag_to_location):18000 Max points: 18000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     6139.80            10057.91       67469.78       99.81
  40     4250.04            14859.76       74921.64       99.98
  60     3456.80            18281.58       83378.77      100.00
  80     2959.76            21386.68       89236.80      100.00
 100     2637.06            23901.42       98138.33      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 18001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2646528, _max_observed_degree: 79, _start: 18000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 18001 nodes and 643625 out-edges, _start is set to 18000
Num frozen points:1 _nd: 18000 _start: 30000 size(_location_to_tag): 18000 size(_tag_to_location):18000 Max points: 30000

Lazy deleting points 8000 to 9000... done.
Starting consolidate_deletes...  done in 3.07572 seconds.
#active points: 17000
max points: 30000
empty slots: 13000
deletes processed: 1000
latest delete size: 0
rate: (325.127 points/second overall, 5.0801 per thread)
Read 2000 points using non-cached reads in 0.004834
Insertion time 1.10424 seconds (1811.19 points/second overall, 28.2999 per thread)
 Time taken for compact_data: 0.068011s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 19001, #dims = 1, size = 76012B
Finished writing bin.
Time taken for save: 0.907386s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.00106865s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 19001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2766300, _max_observed_degree: 78, _start: 19000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 19001 nodes and 672568 out-edges, _start is set to 19000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 19000 _start: 19000 size(_location_to_tag): 19000 size(_tag_to_location):19000 Max points: 19000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     6223.97             9989.67       70174.26       99.77
  40     5575.78            11252.42       65201.26       99.98
  60     4070.73            15450.80       80526.53       99.99
  80     3538.86            17887.12       83418.77      100.00
 100     3191.07            19810.72       88723.94      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 19001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2766300, _max_observed_degree: 78, _start: 19000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 19001 nodes and 672568 out-edges, _start is set to 19000
Num frozen points:1 _nd: 19000 _start: 30000 size(_location_to_tag): 19000 size(_tag_to_location):19000 Max points: 30000

Lazy deleting points 9000 to 10000... done.
Starting consolidate_deletes...  done in 3.06907 seconds.
#active points: 18000
max points: 30000
empty slots: 12000
deletes processed: 1000
latest delete size: 0
rate: (325.832 points/second overall, 5.09113 per thread)
Read 2000 points using non-cached reads in 0.005281
Insertion time 1.25218 seconds (1597.21 points/second overall, 24.9565 per thread)
 Time taken for compact_data: 0.079942s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 20001, #dims = 1, size = 80012B
Finished writing bin.
Time taken for save: 1.06463s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.00107126s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 20001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 3004948, _max_observed_degree: 80, _start: 20000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 20001 nodes and 731230 out-edges, _start is set to 20000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 20000 _start: 20000 size(_location_to_tag): 20000 size(_tag_to_location):20000 Max points: 20000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     5696.45            10874.23       84272.12       99.79
  40     3829.85            16449.91       81419.91       99.98
  60     3205.48            19703.33       86386.57       99.99
  80     2730.51            23146.83       98549.60       99.99
 100     2447.34            25919.54       89095.84      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 20001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 3004948, _max_observed_degree: 80, _start: 20000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 20001 nodes and 731230 out-edges, _start is set to 20000
Num frozen points:1 _nd: 20000 _start: 30000 size(_location_to_tag): 20000 size(_tag_to_location):20000 Max points: 30000

Lazy deleting points 10000 to 11000... done.
Starting consolidate_deletes...  done in 3.13501 seconds.
#active points: 19000
max points: 30000
empty slots: 11000
deletes processed: 1000
latest delete size: 0
rate: (318.979 points/second overall, 4.98404 per thread)
Read 2000 points using non-cached reads in 0.067706
Insertion time 1.18276 seconds (1690.96 points/second overall, 26.4212 per thread)
 Time taken for compact_data: 0.067176s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 21001, #dims = 1, size = 84012B
Finished writing bin.
Time taken for save: 2.31808s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.00122399s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 21001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 3151448, _max_observed_degree: 80, _start: 21000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 21001 nodes and 766855 out-edges, _start is set to 21000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 21000 _start: 21000 size(_location_to_tag): 21000 size(_tag_to_location):21000 Max points: 21000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     5678.38            10868.44       73230.36       99.79
  40     4978.23            12581.11       76100.07       99.98
  60     3803.94            16549.32       77481.15       99.99
  80     3334.01            18972.46       80636.23      100.00
 100     3101.38            20240.86       92305.25      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 21001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 3151448, _max_observed_degree: 80, _start: 21000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 21001 nodes and 766855 out-edges, _start is set to 21000
Num frozen points:1 _nd: 21000 _start: 30000 size(_location_to_tag): 21000 size(_tag_to_location):21000 Max points: 30000

Lazy deleting points 11000 to 12000... done.
Starting consolidate_deletes...  done in 3.2807 seconds.
#active points: 20000
max points: 30000
empty slots: 10000
deletes processed: 1000
latest delete size: 0
rate: (304.813 points/second overall, 4.7627 per thread)
Read 2000 points using non-cached reads in 0.005429
Insertion time 1.30264 seconds (1535.35 points/second overall, 23.9898 per thread)
 Time taken for compact_data: 0.059603s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 22001, #dims = 1, size = 88012B
Finished writing bin.
Time taken for save: 0.999809s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.0011843s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 22001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 3319804, _max_observed_degree: 82, _start: 22000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 22001 nodes and 807944 out-edges, _start is set to 22000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 22000 _start: 22000 size(_location_to_tag): 22000 size(_tag_to_location):22000 Max points: 22000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     5560.74            11137.87       71134.73       99.78
  40     3876.26            16242.07       80532.88       99.98
  60     3121.81            20265.92      102837.46       99.99
  80     2674.62            23671.22       91041.75      100.00
 100     2337.15            27176.00       92013.09      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 22001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 3319804, _max_observed_degree: 82, _start: 22000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 22001 nodes and 807944 out-edges, _start is set to 22000
Num frozen points:1 _nd: 22000 _start: 30000 size(_location_to_tag): 22000 size(_tag_to_location):22000 Max points: 30000

Lazy deleting points 12000 to 13000... done.
Starting consolidate_deletes...  done in 3.1561 seconds.
#active points: 21000
max points: 30000
empty slots: 9000
deletes processed: 1000
latest delete size: 0
rate: (316.847 points/second overall, 4.95074 per thread)
Read 2000 points using non-cached reads in 0.005644
Insertion time 1.2438 seconds (1607.97 points/second overall, 25.1245 per thread)
 Time taken for compact_data: 0.067407s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 23001, #dims = 1, size = 92012B
Finished writing bin.
Time taken for save: 1.84584s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000789007s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 23001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 3469276, _max_observed_degree: 78, _start: 23000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 23001 nodes and 844312 out-edges, _start is set to 23000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 23000 _start: 23000 size(_location_to_tag): 23000 size(_tag_to_location):23000 Max points: 23000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     5402.64            11188.68       87152.43       99.78
  40     4873.47            12926.76       75734.57       99.98
  60     3575.30            17626.14       76492.66       99.99
  80     3133.70            20151.75       80932.26      100.00
 100     2822.98            22436.06       85489.51      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 23001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 3469276, _max_observed_degree: 78, _start: 23000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 23001 nodes and 844312 out-edges, _start is set to 23000
Num frozen points:1 _nd: 23000 _start: 30000 size(_location_to_tag): 23000 size(_tag_to_location):23000 Max points: 30000

Lazy deleting points 13000 to 14000... done.
Starting consolidate_deletes...  done in 3.2098 seconds.
#active points: 22000
max points: 30000
empty slots: 8000
deletes processed: 1000
latest delete size: 0
rate: (311.546 points/second overall, 4.8679 per thread)
Read 2000 points using non-cached reads in 0.006188
Insertion time 1.40185 seconds (1426.69 points/second overall, 22.292 per thread)
 Time taken for compact_data: 0.06564s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 24001, #dims = 1, size = 96012B
Finished writing bin.
Time taken for save: 1.07585s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000796161s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 24001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 3672808, _max_observed_degree: 81, _start: 24000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 24001 nodes and 894195 out-edges, _start is set to 24000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 24000 _start: 24000 size(_location_to_tag): 24000 size(_tag_to_location):24000 Max points: 24000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     5052.44            12345.56       72138.78       99.78
  40     3548.07            17802.54       78708.80       99.98
  60     2862.37            22044.99       84758.67       99.99
  80     2469.61            25656.16       91636.73      100.00
 100     2212.93            28640.10      115268.94      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 24001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 3672808, _max_observed_degree: 81, _start: 24000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 24001 nodes and 894195 out-edges, _start is set to 24000
Num frozen points:1 _nd: 24000 _start: 30000 size(_location_to_tag): 24000 size(_tag_to_location):24000 Max points: 30000

Lazy deleting points 14000 to 15000... done.
Starting consolidate_deletes...  done in 3.00857 seconds.
#active points: 23000
max points: 30000
empty slots: 7000
deletes processed: 1000
latest delete size: 0
rate: (332.384 points/second overall, 5.1935 per thread)
Read 2000 points using non-cached reads in 0.096731
Insertion time 1.30369 seconds (1534.11 points/second overall, 23.9704 per thread)
 Time taken for compact_data: 0.056143s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 25001, #dims = 1, size = 100012B
Finished writing bin.
Time taken for save: 2.0502s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.00083315s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 25001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 3840408, _max_observed_degree: 83, _start: 25000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 25001 nodes and 935095 out-edges, _start is set to 25000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 25000 _start: 25000 size(_location_to_tag): 25000 size(_tag_to_location):25000 Max points: 25000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     5436.26            11512.27       71468.90       99.76
  40     4794.16            13128.51       72324.45       99.97
  60     3390.95            18656.65       83319.83       99.99
  80     2889.75            21941.22       82276.93       99.99
 100     2697.77            23496.94       97153.65      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 25001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 3840408, _max_observed_degree: 83, _start: 25000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 25001 nodes and 935095 out-edges, _start is set to 25000
Num frozen points:1 _nd: 25000 _start: 30000 size(_location_to_tag): 25000 size(_tag_to_location):25000 Max points: 30000

Lazy deleting points 15000 to 16000... done.
Starting consolidate_deletes...  done in 3.33232 seconds.
#active points: 24000
max points: 30000
empty slots: 6000
deletes processed: 1000
latest delete size: 0
rate: (300.092 points/second overall, 4.68893 per thread)
Read 2000 points using non-cached reads in 0.007052
Insertion time 1.45912 seconds (1370.69 points/second overall, 21.417 per thread)
 Time taken for compact_data: 0.099527s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 26001, #dims = 1, size = 104012B
Finished writing bin.
Time taken for save: 1.22336s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000838981s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 26001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 4007368, _max_observed_degree: 81, _start: 26000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 26001 nodes and 975835 out-edges, _start is set to 26000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 26000 _start: 26000 size(_location_to_tag): 26000 size(_tag_to_location):26000 Max points: 26000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     5273.71            11811.53       83939.77       99.76
  40     3608.29            17488.01       72098.88       99.97
  60     2913.33            21625.52       94201.69       99.99
  80     2504.93            25304.21       81340.94       99.99
 100     2212.28            28700.55      104342.15      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 26001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 4007368, _max_observed_degree: 81, _start: 26000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 26001 nodes and 975835 out-edges, _start is set to 26000
Num frozen points:1 _nd: 26000 _start: 30000 size(_location_to_tag): 26000 size(_tag_to_location):26000 Max points: 30000

Lazy deleting points 16000 to 17000... done.
Starting consolidate_deletes...  done in 3.29446 seconds.
#active points: 25000
max points: 30000
empty slots: 5000
deletes processed: 1000
latest delete size: 0
rate: (303.54 points/second overall, 4.7428 per thread)
Read 2000 points using non-cached reads in 0.111682
Insertion time 1.34153 seconds (1490.84 points/second overall, 23.2943 per thread)
 Time taken for compact_data: 0.036619s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 27001, #dims = 1, size = 108012B
Finished writing bin.
Time taken for save: 2.52096s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000952924s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 27001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 4146084, _max_observed_degree: 78, _start: 27000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 27001 nodes and 1009514 out-edges, _start is set to 27000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 27000 _start: 27000 size(_location_to_tag): 27000 size(_tag_to_location):27000 Max points: 27000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     5182.55            11954.03       88688.37       99.76
  40     4607.70            13609.50       71908.36       99.97
  60     3134.86            20056.24       86650.98       99.99
  80     2791.37            22716.79       85954.59       99.99
 100     2513.32            25174.35       88518.03      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 27001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 4146084, _max_observed_degree: 78, _start: 27000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 27001 nodes and 1009514 out-edges, _start is set to 27000
Num frozen points:1 _nd: 27000 _start: 30000 size(_location_to_tag): 27000 size(_tag_to_location):27000 Max points: 30000

Lazy deleting points 17000 to 18000... done.
Starting consolidate_deletes...  done in 3.60199 seconds.
#active points: 26000
max points: 30000
empty slots: 4000
deletes processed: 1000
latest delete size: 0
rate: (277.624 points/second overall, 4.33788 per thread)
Read 2000 points using non-cached reads in 0.069641
Insertion time 1.5376 seconds (1300.73 points/second overall, 20.3239 per thread)
 Time taken for compact_data: 0.070218s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 28001, #dims = 1, size = 112012B
Finished writing bin.
Time taken for save: 1.21238s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000894475s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 28001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 4334712, _max_observed_degree: 80, _start: 28000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 28001 nodes and 1055671 out-edges, _start is set to 28000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 28000 _start: 28000 size(_location_to_tag): 28000 size(_tag_to_location):28000 Max points: 28000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     4879.92            12770.29       82474.30       99.73
  40     3407.91            18539.04       92233.99       99.97
  60     2703.10            23319.42       87022.84       99.99
  80     2360.25            26817.24      122192.08       99.99
 100     2103.65            30167.83      100155.58       99.99
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 28001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 4334712, _max_observed_degree: 80, _start: 28000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 28001 nodes and 1055671 out-edges, _start is set to 28000
Num frozen points:1 _nd: 28000 _start: 30000 size(_location_to_tag): 28000 size(_tag_to_location):28000 Max points: 30000

Lazy deleting points 18000 to 19000... done.
Starting consolidate_deletes...  done in 3.28709 seconds.
#active points: 27000
max points: 30000
empty slots: 3000
deletes processed: 1000
latest delete size: 0
rate: (304.221 points/second overall, 4.75345 per thread)
Read 2000 points using non-cached reads in 0.100288
Insertion time 1.3971 seconds (1431.53 points/second overall, 22.3677 per thread)
 Time taken for compact_data: 0.074734s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 29001, #dims = 1, size = 116012B
Finished writing bin.
Time taken for save: 2.71184s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.00100698s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 29001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 4471636, _max_observed_degree: 82, _start: 29000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 29001 nodes and 1088902 out-edges, _start is set to 29000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 29000 _start: 29000 size(_location_to_tag): 29000 size(_tag_to_location):29000 Max points: 29000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     5075.34            12316.67       75373.88       99.71
  40     4501.19            13808.23       83884.85       99.97
  60     3072.11            20572.99       83780.27       99.99
  80     2629.30            24124.90       79771.54       99.99
 100     2439.39            26013.44       96246.20      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 29001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 4471636, _max_observed_degree: 82, _start: 29000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 29001 nodes and 1088902 out-edges, _start is set to 29000
Num frozen points:1 _nd: 29000 _start: 30000 size(_location_to_tag): 29000 size(_tag_to_location):29000 Max points: 30000

Lazy deleting points 19000 to 20000... done.
Starting consolidate_deletes...  done in 3.33017 seconds.
#active points: 28000
max points: 30000
empty slots: 2000
deletes processed: 1000
latest delete size: 0
rate: (300.285 points/second overall, 4.69196 per thread)
Read 2000 points using non-cached reads in 0.007423
Insertion time 1.61207 seconds (1240.64 points/second overall, 19.385 per thread)
 Time taken for compact_data: 0.032981s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 30001, #dims = 1, size = 120012B
Finished writing bin.
Not repositioning frozen point as it is already at the end.
Time taken for save: 1.2638s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.00097202s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 30001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 4697780, _max_observed_degree: 82, _start: 30000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 30001 nodes and 1144438 out-edges, _start is set to 30000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 30000 _start: 30000 size(_location_to_tag): 30000 size(_tag_to_location):30000 Max points: 30000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     4931.60            12743.16       71588.18       99.73
  40     3418.05            18514.91       82773.32       99.97
  60     2740.94            23086.51      111548.47       99.99
  80     2335.18            27182.44       89480.31       99.99
 100     2362.22            26877.76       90328.41      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Dataset:  Alpha: 1.4 | Beginning Index: 10000 | Max Points: 30000
Base path: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean
Alpha: 1.4
Beginning index size: 10000
Max points to insert: 30000
Number of iterations: 20
Start insertion index: 10000
Number of insertions: 2000
Start deletion index: 0
Number of deletions: 1000
L2: Using AVX2 distance computation DistanceL2Float
Read 10000 points using non-cached reads in 0.026551
load aligned bin succeeded
Starting index build with 10000 points... 
0% of index build completed.Starting final cleanup..done. Link time: 2.90476s
Index built with degree: max:64  avg:32.3369  min:1  count(deg<2):22
Initial non-incremental index build time for 10000 points took 2.92986 seconds (3413.13 points/second)
 Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 10001, #dims = 1, size = 40012B
Finished writing bin.
Time taken for save: 0.505895s.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 10001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1333888, _max_observed_degree: 64, _start: 10000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 10001 nodes and 323465 out-edges, _start is set to 10000
Num frozen points:1 _nd: 10000 _start: 30000 size(_location_to_tag): 10000 size(_tag_to_location):10000 Max points: 30000

Lazy deleting points 0 to 1000... done.
Starting consolidate_deletes...  done in 2.82172 seconds.
#active points: 9000
max points: 30000
empty slots: 21000
deletes processed: 1000
latest delete size: 0
rate: (354.394 points/second overall, 5.5374 per thread)
Read 2000 points using non-cached reads in 0.00643
Insertion time 1.04233 seconds (1918.77 points/second overall, 29.9808 per thread)
 Time taken for compact_data: 0.031398s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 11001, #dims = 1, size = 44012B
Finished writing bin.
Time taken for save: 0.593482s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000593451s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 11001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1384852, _max_observed_degree: 83, _start: 11000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 11001 nodes and 335206 out-edges, _start is set to 11000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 11000 _start: 11000 size(_location_to_tag): 11000 size(_tag_to_location):11000 Max points: 11000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     9389.78             6478.74       77570.50       99.87
  40     6575.25             9447.72       69921.39       99.99
  60     5371.04            11642.23       66224.80      100.00
  80     4890.28            12866.80       83117.59      100.00
 100     4538.68            13877.78       75007.07      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 11001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1384852, _max_observed_degree: 83, _start: 11000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 11001 nodes and 335206 out-edges, _start is set to 11000
Num frozen points:1 _nd: 11000 _start: 30000 size(_location_to_tag): 11000 size(_tag_to_location):11000 Max points: 30000

Lazy deleting points 1000 to 2000... done.
Starting consolidate_deletes...  done in 2.07181 seconds.
#active points: 10000
max points: 30000
empty slots: 20000
deletes processed: 1000
latest delete size: 0
rate: (482.67 points/second overall, 7.54171 per thread)
Read 2000 points using non-cached reads in 0.00569
Insertion time 1.01178 seconds (1976.72 points/second overall, 30.8862 per thread)
 Time taken for compact_data: 0.03295s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 12001, #dims = 1, size = 48012B
Finished writing bin.
Time taken for save: 0.585694s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000607718s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 12001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1631712, _max_observed_degree: 81, _start: 12000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 12001 nodes and 395921 out-edges, _start is set to 12000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 12000 _start: 12000 size(_location_to_tag): 12000 size(_tag_to_location):12000 Max points: 12000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20    12852.11             4676.18       61296.23       99.87
  40     5791.08            10842.98       67388.29       99.99
  60     4508.02            13975.39       84190.94      100.00
  80     3884.90            16211.92       80024.03      100.00
 100     3464.41            18248.17       90270.61      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 12001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1631712, _max_observed_degree: 81, _start: 12000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 12001 nodes and 395921 out-edges, _start is set to 12000
Num frozen points:1 _nd: 12000 _start: 30000 size(_location_to_tag): 12000 size(_tag_to_location):12000 Max points: 30000

Lazy deleting points 2000 to 3000... done.
Starting consolidate_deletes...  done in 3.51988 seconds.
#active points: 11000
max points: 30000
empty slots: 19000
deletes processed: 1000
latest delete size: 0
rate: (284.101 points/second overall, 4.43907 per thread)
Read 2000 points using non-cached reads in 0.007394
Insertion time 1.566 seconds (1277.14 points/second overall, 19.9552 per thread)
 Time taken for compact_data: 0.074132s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 13001, #dims = 1, size = 52012B
Finished writing bin.
Time taken for save: 0.690986s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.00074268s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 13001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1765216, _max_observed_degree: 83, _start: 13000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 13001 nodes and 428297 out-edges, _start is set to 13000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 13000 _start: 13000 size(_location_to_tag): 13000 size(_tag_to_location):13000 Max points: 13000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     7013.93             8782.59       67157.46       99.86
  40     7173.37             8660.16       66619.30       99.99
  60     6733.32             9291.99       65507.10      100.00
  80     5846.85            10719.27       74277.34      100.00
 100     5215.12            12023.53       82779.10      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 13001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1765216, _max_observed_degree: 83, _start: 13000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 13001 nodes and 428297 out-edges, _start is set to 13000
Num frozen points:1 _nd: 13000 _start: 30000 size(_location_to_tag): 13000 size(_tag_to_location):13000 Max points: 30000

Lazy deleting points 3000 to 4000... done.
Starting consolidate_deletes...  done in 2.55252 seconds.
#active points: 12000
max points: 30000
empty slots: 18000
deletes processed: 1000
latest delete size: 0
rate: (391.77 points/second overall, 6.12141 per thread)
Read 2000 points using non-cached reads in 0.007247
Insertion time 1.63596 seconds (1222.52 points/second overall, 19.1019 per thread)
 Time taken for compact_data: 0.098619s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 14001, #dims = 1, size = 56012B
Finished writing bin.
Time taken for save: 0.754474s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.00068354s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 14001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1974988, _max_observed_degree: 82, _start: 14000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 14001 nodes and 479740 out-edges, _start is set to 14000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 14000 _start: 14000 size(_location_to_tag): 14000 size(_tag_to_location):14000 Max points: 14000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     7556.46             8191.34       62071.61       99.85
  40     5397.28            11449.68       70316.55       99.99
  60     4433.31            13917.90       74837.11       99.99
  80     3979.83            15866.74       69006.52      100.00
 100     3671.34            17192.34       87489.33      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 14001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1974988, _max_observed_degree: 82, _start: 14000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 14001 nodes and 479740 out-edges, _start is set to 14000
Num frozen points:1 _nd: 14000 _start: 30000 size(_location_to_tag): 14000 size(_tag_to_location):14000 Max points: 30000

Lazy deleting points 4000 to 5000... done.
Starting consolidate_deletes...  done in 3.12548 seconds.
#active points: 13000
max points: 30000
empty slots: 17000
deletes processed: 1000
latest delete size: 0
rate: (319.951 points/second overall, 4.99924 per thread)
Read 2000 points using non-cached reads in 0.005223
Insertion time 1.02626 seconds (1948.83 points/second overall, 30.4505 per thread)
 Time taken for compact_data: 0.050775s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 15001, #dims = 1, size = 60012B
Finished writing bin.
Time taken for save: 0.716108s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000746948s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 15001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2111448, _max_observed_degree: 81, _start: 15000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 15001 nodes and 512855 out-edges, _start is set to 15000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 15000 _start: 15000 size(_location_to_tag): 15000 size(_tag_to_location):15000 Max points: 15000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     6701.59             9227.02       71081.10       99.83
  40     4543.43            13832.12       78744.79       99.98
  60     3781.33            16633.03       75475.18       99.99
  80     3260.54            19404.33       81881.61       99.99
 100     2904.12            21792.57       93286.20      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 15001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2111448, _max_observed_degree: 81, _start: 15000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 15001 nodes and 512855 out-edges, _start is set to 15000
Num frozen points:1 _nd: 15000 _start: 30000 size(_location_to_tag): 15000 size(_tag_to_location):15000 Max points: 30000

Lazy deleting points 5000 to 6000... done.
Starting consolidate_deletes...  done in 3.6409 seconds.
#active points: 14000
max points: 30000
empty slots: 16000
deletes processed: 1000
latest delete size: 0
rate: (274.658 points/second overall, 4.29152 per thread)
Read 2000 points using non-cached reads in 0.009612
Insertion time 1.51666 seconds (1318.69 points/second overall, 20.6045 per thread)
 Time taken for compact_data: 0.082979s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 16001, #dims = 1, size = 64012B
Finished writing bin.
Time taken for save: 0.845672s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.0013434s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 16001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2290216, _max_observed_degree: 81, _start: 16000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 16001 nodes and 556547 out-edges, _start is set to 16000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 16000 _start: 16000 size(_location_to_tag): 16000 size(_tag_to_location):16000 Max points: 16000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20    10705.57             5683.90       57864.95       99.83
  40     6085.70            10304.04       74783.03       99.98
  60     4428.49            14290.04       76140.45       99.99
  80     3415.24            18500.53       82529.88      100.00
 100     3264.48            19379.71       82924.90      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 16001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2290216, _max_observed_degree: 81, _start: 16000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 16001 nodes and 556547 out-edges, _start is set to 16000
Num frozen points:1 _nd: 16000 _start: 30000 size(_location_to_tag): 16000 size(_tag_to_location):16000 Max points: 30000

Lazy deleting points 6000 to 7000... done.
Starting consolidate_deletes...  done in 3.49525 seconds.
#active points: 15000
max points: 30000
empty slots: 15000
deletes processed: 1000
latest delete size: 0
rate: (286.102 points/second overall, 4.47035 per thread)
Read 2000 points using non-cached reads in 0.009105
Insertion time 1.70346 seconds (1174.08 points/second overall, 18.345 per thread)
 Time taken for compact_data: 0.067101s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 17001, #dims = 1, size = 68012B
Finished writing bin.
Time taken for save: 0.842535s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000786973s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 17001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2473516, _max_observed_degree: 83, _start: 17000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 17001 nodes and 601372 out-edges, _start is set to 17000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 17000 _start: 17000 size(_location_to_tag): 17000 size(_tag_to_location):17000 Max points: 17000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     8053.28             7667.28       74076.96       99.80
  40     5927.99            10571.47       73626.33       99.97
  60     4904.23            12829.70       65704.35       99.99
  80     3010.03            21007.96       78057.25      100.00
 100     2672.87            23660.14       96848.62      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 17001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2473516, _max_observed_degree: 83, _start: 17000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 17001 nodes and 601372 out-edges, _start is set to 17000
Num frozen points:1 _nd: 17000 _start: 30000 size(_location_to_tag): 17000 size(_tag_to_location):17000 Max points: 30000

Lazy deleting points 7000 to 8000... done.
Starting consolidate_deletes...  done in 4.2356 seconds.
#active points: 16000
max points: 30000
empty slots: 14000
deletes processed: 1000
latest delete size: 0
rate: (236.094 points/second overall, 3.68897 per thread)
Read 2000 points using non-cached reads in 0.008044
Insertion time 1.96026 seconds (1020.27 points/second overall, 15.9418 per thread)
 Time taken for compact_data: 0.059654s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 18001, #dims = 1, size = 72012B
Finished writing bin.
Time taken for save: 0.836034s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000889626s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 18001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2640064, _max_observed_degree: 79, _start: 18000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 18001 nodes and 642009 out-edges, _start is set to 18000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 18000 _start: 18000 size(_location_to_tag): 18000 size(_tag_to_location):18000 Max points: 18000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     6187.45            10030.88       67151.66       99.82
  40     6210.38             9998.84       80820.15       99.98
  60     5575.98            11230.71       62422.17       99.99
  80     4807.69            13129.57       75392.42      100.00
 100     4041.05            15559.82       71352.37      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 18001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2640064, _max_observed_degree: 79, _start: 18000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 18001 nodes and 642009 out-edges, _start is set to 18000
Num frozen points:1 _nd: 18000 _start: 30000 size(_location_to_tag): 18000 size(_tag_to_location):18000 Max points: 30000

Lazy deleting points 8000 to 9000... done.
Starting consolidate_deletes...  done in 4.23683 seconds.
#active points: 17000
max points: 30000
empty slots: 13000
deletes processed: 1000
latest delete size: 0
rate: (236.026 points/second overall, 3.6879 per thread)
Read 2000 points using non-cached reads in 0.006546
Insertion time 1.71651 seconds (1165.16 points/second overall, 18.2056 per thread)
 Time taken for compact_data: 0.067229s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 19001, #dims = 1, size = 76012B
Finished writing bin.
Time taken for save: 0.870936s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000887071s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 19001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2770956, _max_observed_degree: 78, _start: 19000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 19001 nodes and 673732 out-edges, _start is set to 19000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 19000 _start: 19000 size(_location_to_tag): 19000 size(_tag_to_location):19000 Max points: 19000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     6036.10            10204.67       62168.17       99.78
  40     4235.68            14728.40       95598.03       99.97
  60     3563.24            17779.71       69204.45       99.99
  80     3397.08            18584.88       76546.70      100.00
 100     3500.44            18051.61       94959.66      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 19001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2770956, _max_observed_degree: 78, _start: 19000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 19001 nodes and 673732 out-edges, _start is set to 19000
Num frozen points:1 _nd: 19000 _start: 30000 size(_location_to_tag): 19000 size(_tag_to_location):19000 Max points: 30000

Lazy deleting points 9000 to 10000... done.
Starting consolidate_deletes...  done in 4.15794 seconds.
#active points: 18000
max points: 30000
empty slots: 12000
deletes processed: 1000
latest delete size: 0
rate: (240.504 points/second overall, 3.75787 per thread)
Read 2000 points using non-cached reads in 0.007576
Insertion time 2.12322 seconds (941.967 points/second overall, 14.7182 per thread)
 Time taken for compact_data: 0.040903s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 20001, #dims = 1, size = 80012B
Finished writing bin.
Time taken for save: 0.914757s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000972361s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 20001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2984324, _max_observed_degree: 80, _start: 20000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 20001 nodes and 726074 out-edges, _start is set to 20000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 20000 _start: 20000 size(_location_to_tag): 20000 size(_tag_to_location):20000 Max points: 20000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     5749.93            10834.74       62834.23       99.80
  40     3983.28            15795.91       72354.65       99.98
  60     3224.01            19650.31       85586.05       99.99
  80     2853.89            22160.22       85129.95       99.99
 100     3896.93            16214.44       69361.28       99.99
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 20001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2984324, _max_observed_degree: 80, _start: 20000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 20001 nodes and 726074 out-edges, _start is set to 20000
Num frozen points:1 _nd: 20000 _start: 30000 size(_location_to_tag): 20000 size(_tag_to_location):20000 Max points: 30000

Lazy deleting points 10000 to 11000... done.
Starting consolidate_deletes...  done in 3.27116 seconds.
#active points: 19000
max points: 30000
empty slots: 11000
deletes processed: 1000
latest delete size: 0
rate: (305.702 points/second overall, 4.7766 per thread)
Read 2000 points using non-cached reads in 0.006511
Insertion time 1.60448 seconds (1246.51 points/second overall, 19.4767 per thread)
 Time taken for compact_data: 0.061487s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 21001, #dims = 1, size = 84012B
Finished writing bin.
Time taken for save: 0.988997s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000899634s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 21001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 3146116, _max_observed_degree: 81, _start: 21000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 21001 nodes and 765522 out-edges, _start is set to 21000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 21000 _start: 21000 size(_location_to_tag): 21000 size(_tag_to_location):21000 Max points: 21000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     6104.17            10209.02       67263.13       99.79
  40     4169.73            15142.79       70925.50       99.98
  60     3367.72            18670.19       73668.42       99.99
  80     2895.54            21894.05       77743.72       99.99
 100     2603.63            24312.39       95277.20      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 21001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 3146116, _max_observed_degree: 81, _start: 21000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 21001 nodes and 765522 out-edges, _start is set to 21000
Num frozen points:1 _nd: 21000 _start: 30000 size(_location_to_tag): 21000 size(_tag_to_location):21000 Max points: 30000

Lazy deleting points 11000 to 12000... done.
Starting consolidate_deletes...  done in 3.45411 seconds.
#active points: 20000
max points: 30000
empty slots: 10000
deletes processed: 1000
latest delete size: 0
rate: (289.51 points/second overall, 4.5236 per thread)
Read 2000 points using non-cached reads in 0.005809
Insertion time 2.16976 seconds (921.762 points/second overall, 14.4025 per thread)
 Time taken for compact_data: 0.125775s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 22001, #dims = 1, size = 88012B
Finished writing bin.
Time taken for save: 1.05445s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.00105925s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 22001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 3317692, _max_observed_degree: 82, _start: 22000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 22001 nodes and 807416 out-edges, _start is set to 22000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 22000 _start: 22000 size(_location_to_tag): 22000 size(_tag_to_location):22000 Max points: 22000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     5624.77            11038.37       63012.63       99.78
  40     3879.76            16243.16       87012.61       99.98
  60     3091.94            20381.38       89947.85       99.99
  80     2681.13            23647.80       89575.88       99.99
 100     2373.94            26653.85       81257.56      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 22001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 3317692, _max_observed_degree: 82, _start: 22000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 22001 nodes and 807416 out-edges, _start is set to 22000
Num frozen points:1 _nd: 22000 _start: 30000 size(_location_to_tag): 22000 size(_tag_to_location):22000 Max points: 30000

Lazy deleting points 12000 to 13000... done.
Starting consolidate_deletes...  done in 3.02763 seconds.
#active points: 21000
max points: 30000
empty slots: 9000
deletes processed: 1000
latest delete size: 0
rate: (330.292 points/second overall, 5.16081 per thread)
Read 2000 points using non-cached reads in 0.102434
Insertion time 1.27448 seconds (1569.27 points/second overall, 24.5199 per thread)
 Time taken for compact_data: 0.068154s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 23001, #dims = 1, size = 92012B
Finished writing bin.
Time taken for save: 2.51482s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000594343s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 23001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 3494852, _max_observed_degree: 78, _start: 23000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 23001 nodes and 850706 out-edges, _start is set to 23000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 23000 _start: 23000 size(_location_to_tag): 23000 size(_tag_to_location):23000 Max points: 23000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     5773.58            10769.36       67969.91       99.79
  40     4085.50            15406.55       79682.03       99.98
  60     3652.06            17309.91       82495.82       99.99
  80     2835.12            22318.12       84665.27       99.99
 100     2545.22            24941.62       80042.03      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 23001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 3494852, _max_observed_degree: 78, _start: 23000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 23001 nodes and 850706 out-edges, _start is set to 23000
Num frozen points:1 _nd: 23000 _start: 30000 size(_location_to_tag): 23000 size(_tag_to_location):23000 Max points: 30000

Lazy deleting points 13000 to 14000... done.
Starting consolidate_deletes...  done in 3.6936 seconds.
#active points: 22000
max points: 30000
empty slots: 8000
deletes processed: 1000
latest delete size: 0
rate: (270.739 points/second overall, 4.23029 per thread)
Read 2000 points using non-cached reads in 0.007692
Insertion time 1.50822 seconds (1326.07 points/second overall, 20.7198 per thread)
 Time taken for compact_data: 0.061344s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 24001, #dims = 1, size = 96012B
Finished writing bin.
Time taken for save: 1.0511s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000738533s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 24001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 3666696, _max_observed_degree: 82, _start: 24000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 24001 nodes and 892667 out-edges, _start is set to 24000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 24000 _start: 24000 size(_location_to_tag): 24000 size(_tag_to_location):24000 Max points: 24000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     5271.43            11766.35       70115.91       99.78
  40     3698.64            17039.03       68441.87       99.98
  60     2983.41            21203.15       85564.66       99.99
  80     2556.34            24801.44       81972.02      100.00
 100     2261.58            28064.04      101357.28      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 24001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 3666696, _max_observed_degree: 82, _start: 24000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 24001 nodes and 892667 out-edges, _start is set to 24000
Num frozen points:1 _nd: 24000 _start: 30000 size(_location_to_tag): 24000 size(_tag_to_location):24000 Max points: 30000

Lazy deleting points 14000 to 15000... done.
Starting consolidate_deletes...  done in 3.3576 seconds.
#active points: 23000
max points: 30000
empty slots: 7000
deletes processed: 1000
latest delete size: 0
rate: (297.832 points/second overall, 4.65362 per thread)
Read 2000 points using non-cached reads in 0.092011
Insertion time 1.34453 seconds (1487.51 points/second overall, 23.2424 per thread)
 Time taken for compact_data: 0.076164s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 25001, #dims = 1, size = 100012B
Finished writing bin.
Time taken for save: 2.53179s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000689521s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 25001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 3835044, _max_observed_degree: 83, _start: 25000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 25001 nodes and 933754 out-edges, _start is set to 25000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 25000 _start: 25000 size(_location_to_tag): 25000 size(_tag_to_location):25000 Max points: 25000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     5956.92            10342.05       75469.04       99.75
  40     3757.44            16765.93       81023.62       99.97
  60     3697.24            17088.98       85939.20       99.99
  80     2717.98            23295.30       93122.51       99.99
 100     2389.15            26562.38      100294.12      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 25001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 3835044, _max_observed_degree: 83, _start: 25000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 25001 nodes and 933754 out-edges, _start is set to 25000
Num frozen points:1 _nd: 25000 _start: 30000 size(_location_to_tag): 25000 size(_tag_to_location):25000 Max points: 30000

Lazy deleting points 15000 to 16000... done.
Starting consolidate_deletes...  done in 4.79276 seconds.
#active points: 24000
max points: 30000
empty slots: 6000
deletes processed: 1000
latest delete size: 0
rate: (208.648 points/second overall, 3.26013 per thread)
Read 2000 points using non-cached reads in 0.008432
Insertion time 2.33046 seconds (858.199 points/second overall, 13.4094 per thread)
 Time taken for compact_data: 0.095073s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 26001, #dims = 1, size = 104012B
Finished writing bin.
Time taken for save: 1.18398s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000866042s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 26001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 4015420, _max_observed_degree: 81, _start: 26000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 26001 nodes and 977848 out-edges, _start is set to 26000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 26000 _start: 26000 size(_location_to_tag): 26000 size(_tag_to_location):26000 Max points: 26000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     5442.77            11517.62       70254.08       99.76
  40     3714.03            17048.82       80842.45       99.97
  60     2996.20            21140.35       76750.55       99.99
  80     2557.43            24743.10      102459.25       99.99
 100     2266.05            27985.94      109389.12      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 26001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 4015420, _max_observed_degree: 81, _start: 26000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 26001 nodes and 977848 out-edges, _start is set to 26000
Num frozen points:1 _nd: 26000 _start: 30000 size(_location_to_tag): 26000 size(_tag_to_location):26000 Max points: 30000

Lazy deleting points 16000 to 17000... done.
Starting consolidate_deletes...  done in 4.623 seconds.
#active points: 25000
max points: 30000
empty slots: 5000
deletes processed: 1000
latest delete size: 0
rate: (216.31 points/second overall, 3.37984 per thread)
Read 2000 points using non-cached reads in 0.00846
Insertion time 2.38021 seconds (840.262 points/second overall, 13.1291 per thread)
 Time taken for compact_data: 0.142091s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 27001, #dims = 1, size = 108012B
Finished writing bin.
Time taken for save: 1.2887s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.00073184s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 27001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 4179392, _max_observed_degree: 78, _start: 27000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 27001 nodes and 1017841 out-edges, _start is set to 27000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 27000 _start: 27000 size(_location_to_tag): 27000 size(_tag_to_location):27000 Max points: 27000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     7144.79             8698.67       74637.36       99.76
  40     5598.43            11236.49       60805.35       99.98
  60     4071.89            15384.21       95021.63       99.99
  80     3458.11            18129.48       73683.41       99.99
 100     3132.46            20234.53       84914.83      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 27001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 4179392, _max_observed_degree: 78, _start: 27000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 27001 nodes and 1017841 out-edges, _start is set to 27000
Num frozen points:1 _nd: 27000 _start: 30000 size(_location_to_tag): 27000 size(_tag_to_location):27000 Max points: 30000

Lazy deleting points 17000 to 18000... done.
Starting consolidate_deletes...  done in 3.29252 seconds.
#active points: 26000
max points: 30000
empty slots: 4000
deletes processed: 1000
latest delete size: 0
rate: (303.719 points/second overall, 4.74561 per thread)
Read 2000 points using non-cached reads in 0.006365
Insertion time 1.501 seconds (1332.44 points/second overall, 20.8194 per thread)
 Time taken for compact_data: 0.057764s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 28001, #dims = 1, size = 112012B
Finished writing bin.
Time taken for save: 1.225s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000820437s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 28001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 4319920, _max_observed_degree: 80, _start: 28000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 28001 nodes and 1051973 out-edges, _start is set to 28000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 28000 _start: 28000 size(_location_to_tag): 28000 size(_tag_to_location):28000 Max points: 28000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     4991.81            12503.86       70999.98       99.74
  40     3457.48            18120.04       81044.94       99.97
  60     2814.33            22464.85       84877.00       99.99
  80     2759.53            22998.09       87786.58       99.99
 100     3051.12            20696.84       83846.15       99.99
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 28001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 4319920, _max_observed_degree: 80, _start: 28000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 28001 nodes and 1051973 out-edges, _start is set to 28000
Num frozen points:1 _nd: 28000 _start: 30000 size(_location_to_tag): 28000 size(_tag_to_location):28000 Max points: 30000

Lazy deleting points 18000 to 19000... done.
Starting consolidate_deletes...  done in 3.83348 seconds.
#active points: 27000
max points: 30000
empty slots: 3000
deletes processed: 1000
latest delete size: 0
rate: (260.86 points/second overall, 4.07593 per thread)
Read 2000 points using non-cached reads in 0.00797
Insertion time 1.69284 seconds (1181.45 points/second overall, 18.4601 per thread)
 Time taken for compact_data: 0.067753s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 29001, #dims = 1, size = 116012B
Finished writing bin.
Time taken for save: 1.24266s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000786743s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 29001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 4482076, _max_observed_degree: 82, _start: 29000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 29001 nodes and 1091512 out-edges, _start is set to 29000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 29000 _start: 29000 size(_location_to_tag): 29000 size(_tag_to_location):29000 Max points: 29000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     7172.03             8601.06       74789.43       99.71
  40     5009.50            12600.60       80115.17       99.97
  60     4061.58            15582.65       94302.25       99.99
  80     3524.01            17972.47       65582.60       99.99
 100     2150.52            29520.36      100637.95      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 29001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 4482076, _max_observed_degree: 82, _start: 29000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 29001 nodes and 1091512 out-edges, _start is set to 29000
Num frozen points:1 _nd: 29000 _start: 30000 size(_location_to_tag): 29000 size(_tag_to_location):29000 Max points: 30000

Lazy deleting points 19000 to 20000... done.
Starting consolidate_deletes...  done in 4.46934 seconds.
#active points: 28000
max points: 30000
empty slots: 2000
deletes processed: 1000
latest delete size: 0
rate: (223.747 points/second overall, 3.49604 per thread)
Read 2000 points using non-cached reads in 0.006735
Insertion time 2.49061 seconds (803.015 points/second overall, 12.5471 per thread)
 Time taken for compact_data: 0.04318s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 30001, #dims = 1, size = 120012B
Finished writing bin.
Not repositioning frozen point as it is already at the end.
Time taken for save: 1.29651s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.00131792s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 30001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 4715796, _max_observed_degree: 82, _start: 30000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 30001 nodes and 1148942 out-edges, _start is set to 30000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 30000 _start: 30000 size(_location_to_tag): 30000 size(_tag_to_location):30000 Max points: 30000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     6531.78             9550.97       60575.02       99.74
  40     3699.22            17051.48       73577.90       99.98
  60     3627.12            17486.92       70279.33       99.99
  80     3168.18            19987.71       98214.84       99.99
 100     2888.38            21839.83       84155.52      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Dataset:  Alpha: 1.5 | Beginning Index: 10000 | Max Points: 30000
Base path: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean
Alpha: 1.5
Beginning index size: 10000
Max points to insert: 30000
Number of iterations: 20
Start insertion index: 10000
Number of insertions: 2000
Start deletion index: 0
Number of deletions: 1000
L2: Using AVX2 distance computation DistanceL2Float
Read 10000 points using non-cached reads in 0.024785
load aligned bin succeeded
Starting index build with 10000 points... 
0% of index build completed.Starting final cleanup..done. Link time: 4.11314s
Index built with degree: max:64  avg:48.857  min:1  count(deg<2):5
Initial non-incremental index build time for 10000 points took 4.14098 seconds (2414.89 points/second)
 Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 10001, #dims = 1, size = 40012B
Finished writing bin.
Time taken for save: 0.440548s.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 10001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 1994760, _max_observed_degree: 64, _start: 10000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 10001 nodes and 488683 out-edges, _start is set to 10000
Num frozen points:1 _nd: 10000 _start: 30000 size(_location_to_tag): 10000 size(_tag_to_location):10000 Max points: 30000

Lazy deleting points 0 to 1000... done.
Starting consolidate_deletes...  done in 8.16312 seconds.
#active points: 9000
max points: 30000
empty slots: 21000
deletes processed: 1000
latest delete size: 0
rate: (122.502 points/second overall, 1.9141 per thread)
Read 2000 points using non-cached reads in 0.007864
Insertion time 1.59601 seconds (1253.13 points/second overall, 19.5801 per thread)
 Time taken for compact_data: 0.069085s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 11001, #dims = 1, size = 44012B
Finished writing bin.
Time taken for save: 0.60463s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.00064082s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 11001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2546140, _max_observed_degree: 83, _start: 11000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 11001 nodes and 625528 out-edges, _start is set to 11000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 11000 _start: 11000 size(_location_to_tag): 11000 size(_tag_to_location):11000 Max points: 11000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     6545.08             9497.33       66061.76       99.96
  40     4747.64            13249.06       72803.62      100.00
  60     4068.91            15408.51       75774.87      100.00
  80     5745.29            10933.50       81674.60      100.00
 100     5169.89            12162.96       79213.92      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 11001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2546140, _max_observed_degree: 83, _start: 11000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 11001 nodes and 625528 out-edges, _start is set to 11000
Num frozen points:1 _nd: 11000 _start: 30000 size(_location_to_tag): 11000 size(_tag_to_location):11000 Max points: 30000

Lazy deleting points 1000 to 2000... done.
Starting consolidate_deletes...  done in 7.88856 seconds.
#active points: 10000
max points: 30000
empty slots: 20000
deletes processed: 1000
latest delete size: 0
rate: (126.766 points/second overall, 1.98072 per thread)
Read 2000 points using non-cached reads in 0.006108
Insertion time 1.06559 seconds (1876.9 points/second overall, 29.3265 per thread)
 Time taken for compact_data: 0.063354s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 12001, #dims = 1, size = 48012B
Finished writing bin.
Time taken for save: 0.610176s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000529271s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 12001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2856380, _max_observed_degree: 83, _start: 12000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 12001 nodes and 702088 out-edges, _start is set to 12000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 12000 _start: 12000 size(_location_to_tag): 12000 size(_tag_to_location):12000 Max points: 12000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     8999.09             6832.48       73766.14       99.95
  40     6510.90             9429.63       69111.38      100.00
  60     5557.94            11305.52       66785.44      100.00
  80     5217.52            12045.06       70549.91      100.00
 100     4696.38            13407.86       77139.91      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 12001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 2856380, _max_observed_degree: 83, _start: 12000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 12001 nodes and 702088 out-edges, _start is set to 12000
Num frozen points:1 _nd: 12000 _start: 30000 size(_location_to_tag): 12000 size(_tag_to_location):12000 Max points: 30000

Lazy deleting points 2000 to 3000... done.
Starting consolidate_deletes...  done in 13.9971 seconds.
#active points: 11000
max points: 30000
empty slots: 19000
deletes processed: 1000
latest delete size: 0
rate: (71.4433 points/second overall, 1.1163 per thread)
Read 2000 points using non-cached reads in 0.007183
Insertion time 1.52914 seconds (1307.93 points/second overall, 20.4364 per thread)
 Time taken for compact_data: 0.06943s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 13001, #dims = 1, size = 52012B
Finished writing bin.
Time taken for save: 1.09129s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000520755s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 13001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 3171048, _max_observed_degree: 83, _start: 13000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 13001 nodes and 779755 out-edges, _start is set to 13000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 13000 _start: 13000 size(_location_to_tag): 13000 size(_tag_to_location):13000 Max points: 13000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     7368.87             8343.38       73023.55       99.95
  40     4524.81            13806.29       76196.20      100.00
  60     4485.12            14076.97       68362.96      100.00
  80     4244.90            14827.04       73753.48      100.00
 100     3815.29            16509.14       73212.44      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 13001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 3171048, _max_observed_degree: 83, _start: 13000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 13001 nodes and 779755 out-edges, _start is set to 13000
Num frozen points:1 _nd: 13000 _start: 30000 size(_location_to_tag): 13000 size(_tag_to_location):13000 Max points: 30000

Lazy deleting points 3000 to 4000... done.
Starting consolidate_deletes...  done in 9.11768 seconds.
#active points: 12000
max points: 30000
empty slots: 18000
deletes processed: 1000
latest delete size: 0
rate: (109.677 points/second overall, 1.7137 per thread)
Read 2000 points using non-cached reads in 0.006327
Insertion time 1.13669 seconds (1759.5 points/second overall, 27.4922 per thread)
 Time taken for compact_data: 0.067197s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 14001, #dims = 1, size = 56012B
Finished writing bin.
Time taken for save: 0.711415s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000767577s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 14001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 3467112, _max_observed_degree: 83, _start: 14000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 14001 nodes and 852771 out-edges, _start is set to 14000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 14000 _start: 14000 size(_location_to_tag): 14000 size(_tag_to_location):14000 Max points: 14000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     5534.15            11264.64       67195.23       99.96
  40     3924.27            16038.41       68835.24      100.00
  60     3334.70            18947.27       85305.25      100.00
  80     2921.01            21640.02       77666.50      100.00
 100     2630.15            24058.77       78810.60      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 14001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 3467112, _max_observed_degree: 83, _start: 14000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 14001 nodes and 852771 out-edges, _start is set to 14000
Num frozen points:1 _nd: 14000 _start: 30000 size(_location_to_tag): 14000 size(_tag_to_location):14000 Max points: 30000

Lazy deleting points 4000 to 5000... done.
Starting consolidate_deletes...  done in 10.7612 seconds.
#active points: 13000
max points: 30000
empty slots: 17000
deletes processed: 1000
latest delete size: 0
rate: (92.9266 points/second overall, 1.45198 per thread)
Read 2000 points using non-cached reads in 0.006281
Insertion time 1.42142 seconds (1407.04 points/second overall, 21.985 per thread)
 Time taken for compact_data: 0.07187s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 15001, #dims = 1, size = 60012B
Finished writing bin.
Time taken for save: 0.742808s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000734295s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 15001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 3737384, _max_observed_degree: 83, _start: 15000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 15001 nodes and 919339 out-edges, _start is set to 15000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 15000 _start: 15000 size(_location_to_tag): 15000 size(_tag_to_location):15000 Max points: 15000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     7418.95             8360.88       66611.16       99.95
  40     5387.05            11695.99       62914.11       99.99
  60     4584.37            13748.49       71760.88      100.00
  80     4013.72            15749.29       78096.87      100.00
 100     3668.00            17089.37       86692.26      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 15001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 3737384, _max_observed_degree: 83, _start: 15000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 15001 nodes and 919339 out-edges, _start is set to 15000
Num frozen points:1 _nd: 15000 _start: 30000 size(_location_to_tag): 15000 size(_tag_to_location):15000 Max points: 30000

Lazy deleting points 5000 to 6000... done.
Starting consolidate_deletes...  done in 12.7995 seconds.
#active points: 14000
max points: 30000
empty slots: 16000
deletes processed: 1000
latest delete size: 0
rate: (78.1284 points/second overall, 1.22076 per thread)
Read 2000 points using non-cached reads in 0.007491
Insertion time 2.09226 seconds (955.903 points/second overall, 14.936 per thread)
 Time taken for compact_data: 0.107127s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 16001, #dims = 1, size = 64012B
Finished writing bin.
Time taken for save: 0.86658s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000718335s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 16001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 4004292, _max_observed_degree: 83, _start: 16000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 16001 nodes and 985066 out-edges, _start is set to 16000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 16000 _start: 16000 size(_location_to_tag): 16000 size(_tag_to_location):16000 Max points: 16000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     8394.88             7371.48       65565.28       99.94
  40     6074.46            10349.08       61922.56       99.99
  60     4275.68            14685.12       79962.02      100.00
  80     2785.82            22673.50       86860.91      100.00
 100     3318.21            18979.98       76064.90      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 16001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 4004292, _max_observed_degree: 83, _start: 16000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 16001 nodes and 985066 out-edges, _start is set to 16000
Num frozen points:1 _nd: 16000 _start: 30000 size(_location_to_tag): 16000 size(_tag_to_location):16000 Max points: 30000

Lazy deleting points 6000 to 7000... done.
Starting consolidate_deletes...  done in 10.9873 seconds.
#active points: 15000
max points: 30000
empty slots: 15000
deletes processed: 1000
latest delete size: 0
rate: (91.0144 points/second overall, 1.4221 per thread)
Read 2000 points using non-cached reads in 0.00833
Insertion time 1.29718 seconds (1541.81 points/second overall, 24.0908 per thread)
 Time taken for compact_data: 0.076877s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 17001, #dims = 1, size = 68012B
Finished writing bin.
Time taken for save: 0.828484s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000696211s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 17001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 4269520, _max_observed_degree: 83, _start: 17000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 17001 nodes and 1050373 out-edges, _start is set to 17000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 17000 _start: 17000 size(_location_to_tag): 17000 size(_tag_to_location):17000 Max points: 17000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     5724.27            10890.50       77245.13       99.94
  40     3556.95            17746.28       73433.78      100.00
  60     2957.58            21456.78       78547.92      100.00
  80     2579.01            24591.68       95959.18      100.00
 100     2311.51            27328.11      112824.98      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 17001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 4269520, _max_observed_degree: 83, _start: 17000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 17001 nodes and 1050373 out-edges, _start is set to 17000
Num frozen points:1 _nd: 17000 _start: 30000 size(_location_to_tag): 17000 size(_tag_to_location):17000 Max points: 30000

Lazy deleting points 7000 to 8000... done.
Starting consolidate_deletes...  done in 10.1181 seconds.
#active points: 16000
max points: 30000
empty slots: 14000
deletes processed: 1000
latest delete size: 0
rate: (98.8324 points/second overall, 1.54426 per thread)
Read 2000 points using non-cached reads in 0.007138
Insertion time 1.21845 seconds (1641.44 points/second overall, 25.6474 per thread)
 Time taken for compact_data: 0.071584s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 18001, #dims = 1, size = 72012B
Finished writing bin.
Time taken for save: 21.3662s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000935281s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 18001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 4533368, _max_observed_degree: 83, _start: 18000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 18001 nodes and 1115335 out-edges, _start is set to 18000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 18000 _start: 18000 size(_location_to_tag): 18000 size(_tag_to_location):18000 Max points: 18000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     5394.99            11552.36       69293.29       99.93
  40     4974.59            12668.65       73511.52       99.99
  60     3645.13            17331.71       77725.21      100.00
  80     3292.15            19179.35       70529.31      100.00
 100     3087.65            20512.70       78998.73      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 18001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 4533368, _max_observed_degree: 83, _start: 18000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 18001 nodes and 1115335 out-edges, _start is set to 18000
Num frozen points:1 _nd: 18000 _start: 30000 size(_location_to_tag): 18000 size(_tag_to_location):18000 Max points: 30000

Lazy deleting points 8000 to 9000... done.
Starting consolidate_deletes...  done in 11.1035 seconds.
#active points: 17000
max points: 30000
empty slots: 13000
deletes processed: 1000
latest delete size: 0
rate: (90.0615 points/second overall, 1.40721 per thread)
Read 2000 points using non-cached reads in 0.007965
Insertion time 2.37655 seconds (841.554 points/second overall, 13.1493 per thread)
 Time taken for compact_data: 0.109385s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 19001, #dims = 1, size = 76012B
Finished writing bin.
Time taken for save: 0.94656s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.00105664s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 19001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 4784848, _max_observed_degree: 83, _start: 19000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 19001 nodes and 1177205 out-edges, _start is set to 19000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 19000 _start: 19000 size(_location_to_tag): 19000 size(_tag_to_location):19000 Max points: 19000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     4741.15            13164.80       76892.18       99.92
  40     3411.82            18552.93       80728.09       99.99
  60     2793.47            22677.93       73045.29      100.00
  80     2412.60            26163.80      115935.62      100.00
 100     3086.19            20493.83      100250.86      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 19001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 4784848, _max_observed_degree: 83, _start: 19000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 19001 nodes and 1177205 out-edges, _start is set to 19000
Num frozen points:1 _nd: 19000 _start: 30000 size(_location_to_tag): 19000 size(_tag_to_location):19000 Max points: 30000

Lazy deleting points 9000 to 10000... done.
Starting consolidate_deletes...  done in 11.7846 seconds.
#active points: 18000
max points: 30000
empty slots: 12000
deletes processed: 1000
latest delete size: 0
rate: (84.8564 points/second overall, 1.32588 per thread)
Read 2000 points using non-cached reads in 0.006346
Insertion time 1.75419 seconds (1140.13 points/second overall, 17.8145 per thread)
 Time taken for compact_data: 0.112534s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 20001, #dims = 1, size = 80012B
Finished writing bin.
Time taken for save: 1.00285s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000892411s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 20001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 5061244, _max_observed_degree: 83, _start: 20000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 20001 nodes and 1245304 out-edges, _start is set to 20000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 20000 _start: 20000 size(_location_to_tag): 20000 size(_tag_to_location):20000 Max points: 20000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     6871.99             9062.92       65790.09       99.91
  40     4957.43            12675.97       65755.78      100.00
  60     4195.38            15033.84       72094.95      100.00
  80     3690.27            17038.72       67623.01      100.00
 100     2166.94            29291.60       91072.58      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 20001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 5061244, _max_observed_degree: 83, _start: 20000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 20001 nodes and 1245304 out-edges, _start is set to 20000
Num frozen points:1 _nd: 20000 _start: 30000 size(_location_to_tag): 20000 size(_tag_to_location):20000 Max points: 30000

Lazy deleting points 10000 to 11000... done.
Starting consolidate_deletes...  done in 13.3473 seconds.
#active points: 19000
max points: 30000
empty slots: 11000
deletes processed: 1000
latest delete size: 0
rate: (74.9216 points/second overall, 1.17065 per thread)
Read 2000 points using non-cached reads in 0.113721
Insertion time 1.3457 seconds (1486.22 points/second overall, 23.2222 per thread)
 Time taken for compact_data: 0.099254s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 21001, #dims = 1, size = 84012B
Finished writing bin.
Time taken for save: 1.07622s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.00101776s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 21001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 5316444, _max_observed_degree: 83, _start: 21000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 21001 nodes and 1308104 out-edges, _start is set to 21000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 21000 _start: 21000 size(_location_to_tag): 21000 size(_tag_to_location):21000 Max points: 21000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     4641.80            13474.09       68888.05       99.91
  40     4346.50            14503.41       74432.20       99.99
  60     3266.08            19379.47       81373.51      100.00
  80     3017.38            20983.33       74989.02      100.00
 100     2801.18            22629.32       83821.92      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 21001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 5316444, _max_observed_degree: 83, _start: 21000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 21001 nodes and 1308104 out-edges, _start is set to 21000
Num frozen points:1 _nd: 21000 _start: 30000 size(_location_to_tag): 21000 size(_tag_to_location):21000 Max points: 30000

Lazy deleting points 11000 to 12000... done.
Starting consolidate_deletes...  done in 11.0887 seconds.
#active points: 20000
max points: 30000
empty slots: 10000
deletes processed: 1000
latest delete size: 0
rate: (90.1818 points/second overall, 1.40909 per thread)
Read 2000 points using non-cached reads in 0.007078
Insertion time 2.52579 seconds (791.832 points/second overall, 12.3724 per thread)
 Time taken for compact_data: 0.133171s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 22001, #dims = 1, size = 88012B
Finished writing bin.
Time taken for save: 1.14748s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000980396s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 22001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 5568556, _max_observed_degree: 83, _start: 22000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 22001 nodes and 1370132 out-edges, _start is set to 22000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 22000 _start: 22000 size(_location_to_tag): 22000 size(_tag_to_location):22000 Max points: 22000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     4560.34            13614.75       79900.99       99.90
  40     3256.08            19278.86       81490.95       99.99
  60     2680.64            23612.49       98331.62      100.00
  80     3155.80            19921.01       78053.59      100.00
 100     3263.94            19357.50       87049.34      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 22001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 5568556, _max_observed_degree: 83, _start: 22000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 22001 nodes and 1370132 out-edges, _start is set to 22000
Num frozen points:1 _nd: 22000 _start: 30000 size(_location_to_tag): 22000 size(_tag_to_location):22000 Max points: 30000

Lazy deleting points 12000 to 13000... done.
Starting consolidate_deletes...  done in 11.7624 seconds.
#active points: 21000
max points: 30000
empty slots: 9000
deletes processed: 1000
latest delete size: 0
rate: (85.0164 points/second overall, 1.32838 per thread)
Read 2000 points using non-cached reads in 0.005981
Insertion time 2.00965 seconds (995.197 points/second overall, 15.5499 per thread)
 Time taken for compact_data: 0.109462s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 23001, #dims = 1, size = 92012B
Finished writing bin.
Time taken for save: 1.11019s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000682969s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 23001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 5830328, _max_observed_degree: 83, _start: 23000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 23001 nodes and 1434575 out-edges, _start is set to 23000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 23000 _start: 23000 size(_location_to_tag): 23000 size(_tag_to_location):23000 Max points: 23000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     5988.32            10385.56       64431.57       99.91
  40     4342.37            14558.00       68063.86       99.99
  60     3825.58            16503.99       75782.57       99.99
  80     2692.98            23524.81       84527.55      100.00
 100     1988.21            31936.56       97577.89      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 23001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 5830328, _max_observed_degree: 83, _start: 23000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 23001 nodes and 1434575 out-edges, _start is set to 23000
Num frozen points:1 _nd: 23000 _start: 30000 size(_location_to_tag): 23000 size(_tag_to_location):23000 Max points: 30000

Lazy deleting points 13000 to 14000... done.
Starting consolidate_deletes...  done in 12.1104 seconds.
#active points: 22000
max points: 30000
empty slots: 8000
deletes processed: 1000
latest delete size: 0
rate: (82.5738 points/second overall, 1.29022 per thread)
Read 2000 points using non-cached reads in 0.10292
Insertion time 1.45473 seconds (1374.82 points/second overall, 21.4816 per thread)
 Time taken for compact_data: 0.106103s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 24001, #dims = 1, size = 96012B
Finished writing bin.
Time taken for save: 1.46516s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000733814s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 24001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 6080660, _max_observed_degree: 83, _start: 24000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 24001 nodes and 1496158 out-edges, _start is set to 24000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 24000 _start: 24000 size(_location_to_tag): 24000 size(_tag_to_location):24000 Max points: 24000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     4498.79            13780.00       71682.19       99.91
  40     3731.80            16919.57       76543.96       99.98
  60     2846.92            22261.37       73022.73      100.00
  80     2478.70            25556.11       92922.80      100.00
 100     2282.81            27808.13       81460.27      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 24001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 6080660, _max_observed_degree: 83, _start: 24000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 24001 nodes and 1496158 out-edges, _start is set to 24000
Num frozen points:1 _nd: 24000 _start: 30000 size(_location_to_tag): 24000 size(_tag_to_location):24000 Max points: 30000

Lazy deleting points 14000 to 15000... done.
Starting consolidate_deletes...  done in 9.76572 seconds.
#active points: 23000
max points: 30000
empty slots: 7000
deletes processed: 1000
latest delete size: 0
rate: (102.399 points/second overall, 1.59998 per thread)
Read 2000 points using non-cached reads in 0.009629
Insertion time 1.52744 seconds (1309.38 points/second overall, 20.4591 per thread)
 Time taken for compact_data: 0.102495s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 25001, #dims = 1, size = 100012B
Finished writing bin.
Time taken for save: 1.20162s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000949047s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 25001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 6334604, _max_observed_degree: 83, _start: 25000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 25001 nodes and 1558644 out-edges, _start is set to 25000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 25000 _start: 25000 size(_location_to_tag): 25000 size(_tag_to_location):25000 Max points: 25000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     4219.00            14833.77       75562.48       99.89
  40     3026.46            20922.53       81424.77       99.99
  60     2462.93            25622.00       85685.80      100.00
  80     2153.05            29458.99       93742.88      100.00
 100     2070.22            30661.36      101943.59      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 25001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 6334604, _max_observed_degree: 83, _start: 25000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 25001 nodes and 1558644 out-edges, _start is set to 25000
Num frozen points:1 _nd: 25000 _start: 30000 size(_location_to_tag): 25000 size(_tag_to_location):25000 Max points: 30000

Lazy deleting points 15000 to 16000... done.
Starting consolidate_deletes...  done in 9.86147 seconds.
#active points: 24000
max points: 30000
empty slots: 6000
deletes processed: 1000
latest delete size: 0
rate: (101.405 points/second overall, 1.58445 per thread)
Read 2000 points using non-cached reads in 0.006993
Insertion time 2.39277 seconds (835.852 points/second overall, 13.0602 per thread)
 Time taken for compact_data: 0.108685s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 26001, #dims = 1, size = 104012B
Finished writing bin.
Time taken for save: 1.25072s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000783447s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 26001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 6580580, _max_observed_degree: 83, _start: 26000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 26001 nodes and 1619138 out-edges, _start is set to 26000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 26000 _start: 26000 size(_location_to_tag): 26000 size(_tag_to_location):26000 Max points: 26000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     4772.63            13124.75       67869.23       99.90
  40     3423.25            18470.85       71358.00       99.99
  60     2794.98            22639.51       85729.73      100.00
  80     2521.26            25087.49       76880.14      100.00
 100     2259.79            27940.07       89018.70      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 26001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 6580580, _max_observed_degree: 83, _start: 26000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 26001 nodes and 1619138 out-edges, _start is set to 26000
Num frozen points:1 _nd: 26000 _start: 30000 size(_location_to_tag): 26000 size(_tag_to_location):26000 Max points: 30000

Lazy deleting points 16000 to 17000... done.
Starting consolidate_deletes...  done in 11.2985 seconds.
#active points: 25000
max points: 30000
empty slots: 5000
deletes processed: 1000
latest delete size: 0
rate: (88.5075 points/second overall, 1.38293 per thread)
Read 2000 points using non-cached reads in 0.007849
Insertion time 2.707 seconds (738.824 points/second overall, 11.5441 per thread)
 Time taken for compact_data: 0.11506s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 27001, #dims = 1, size = 108012B
Finished writing bin.
Time taken for save: 1.37271s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000862545s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 27001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 6822208, _max_observed_degree: 83, _start: 27000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 27001 nodes and 1678545 out-edges, _start is set to 27000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 27000 _start: 27000 size(_location_to_tag): 27000 size(_tag_to_location):27000 Max points: 27000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     4260.19            14685.92       80261.59       99.90
  40     3365.86            18798.66       83935.54       99.99
  60     3795.95            16574.09       79099.67      100.00
  80     3267.56            19376.57       72746.40      100.00
 100     2048.85            30967.47      110838.84      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 27001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 6822208, _max_observed_degree: 83, _start: 27000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 27001 nodes and 1678545 out-edges, _start is set to 27000
Num frozen points:1 _nd: 27000 _start: 30000 size(_location_to_tag): 27000 size(_tag_to_location):27000 Max points: 30000

Lazy deleting points 17000 to 18000... done.
Starting consolidate_deletes...  done in 11.2929 seconds.
#active points: 26000
max points: 30000
empty slots: 4000
deletes processed: 1000
latest delete size: 0
rate: (88.5509 points/second overall, 1.38361 per thread)
Read 2000 points using non-cached reads in 0.009177
Insertion time 2.29228 seconds (872.493 points/second overall, 13.6327 per thread)
 Time taken for compact_data: 0.121602s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 28001, #dims = 1, size = 112012B
Finished writing bin.
Time taken for save: 1.32329s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000762137s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 28001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 7087184, _max_observed_degree: 83, _start: 28000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 28001 nodes and 1743789 out-edges, _start is set to 28000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 28000 _start: 28000 size(_location_to_tag): 28000 size(_tag_to_location):28000 Max points: 28000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     5864.80            10436.05       62668.89       99.88
  40     4443.91            14185.65       70853.55       99.98
  60     2713.06            23351.39       83194.88       99.99
  80     2097.45            30263.86       94363.61      100.00
 100     1884.73            33700.83      106774.24      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 28001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 7087184, _max_observed_degree: 83, _start: 28000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 28001 nodes and 1743789 out-edges, _start is set to 28000
Num frozen points:1 _nd: 28000 _start: 30000 size(_location_to_tag): 28000 size(_tag_to_location):28000 Max points: 30000

Lazy deleting points 18000 to 19000... done.
Starting consolidate_deletes...  done in 10.8569 seconds.
#active points: 27000
max points: 30000
empty slots: 3000
deletes processed: 1000
latest delete size: 0
rate: (92.1071 points/second overall, 1.43917 per thread)
Read 2000 points using non-cached reads in 0.114528
Insertion time 1.60886 seconds (1243.11 points/second overall, 19.4237 per thread)
 Time taken for compact_data: 0.107053s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 29001, #dims = 1, size = 116012B
Finished writing bin.
Time taken for save: 1.51278s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000876431s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 29001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 7354476, _max_observed_degree: 83, _start: 29000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 29001 nodes and 1809612 out-edges, _start is set to 29000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 29000 _start: 29000 size(_location_to_tag): 29000 size(_tag_to_location):29000 Max points: 29000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     5238.79            11847.22       78607.70       99.87
  40     3109.74            20367.40       93397.88       99.99
  60     2527.43            24933.19       95602.18      100.00
  80     2194.74            28927.63       91104.69      100.00
 100     2046.80            30957.83      104217.21      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
L2: Using AVX2 distance computation DistanceL2Float
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 29001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 7354476, _max_observed_degree: 83, _start: 29000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 29001 nodes and 1809612 out-edges, _start is set to 29000
Num frozen points:1 _nd: 29000 _start: 30000 size(_location_to_tag): 29000 size(_tag_to_location):29000 Max points: 30000

Lazy deleting points 19000 to 20000... done.
Starting consolidate_deletes...  done in 10.2504 seconds.
#active points: 28000
max points: 30000
empty slots: 2000
deletes processed: 1000
latest delete size: 0
rate: (97.5574 points/second overall, 1.52433 per thread)
Read 2000 points using non-cached reads in 0.011202
Insertion time 1.87253 seconds (1068.07 points/second overall, 16.6886 per thread)
 Time taken for compact_data: 0.063675s.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags
bin: #pts = 30001, #dims = 1, size = 120012B
Finished writing bin.
Not repositioning frozen point as it is already at the end.
Time taken for save: 1.33123s.
Reading (with alignment) bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test.fbin ...Metadata: #pts = 10000, #dims = 784, aligned_dim = 784... allocating aligned memory of 31360000 bytes... done. Copying data to mem_aligned buffer... done.
Opened: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100, size: 8000008, cache_size: 8000008
Reading truthset file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/test_gt100 ...
Metadata: #pts = 10000, #dims = 100... 
L2: Using AVX2 distance computation DistanceL2Float
Resizing took: 0.000927186s
Reading bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags ...
Opening bin file /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index.tags... 
Metadata: #pts = 30001, #dims = 1...
done.
Tags loaded.
From graph header, expected_file_size: 7589988, _max_observed_degree: 83, _start: 30000, file_frozen_pts: 1
Loading vamana graph /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/index...done. Index has 30001 nodes and 1867490 out-edges, _start is set to 30000
Not repositioning frozen point as it is already at the end.
Num frozen points:1 _nd: 30000 _start: 30000 size(_location_to_tag): 30000 size(_tag_to_location):30000 Max points: 30000
Index loaded
Using 64 threads to search
  Ls         QPS  Mean Latency (mus)   99.9 Latency   Recall@10
===============================================================
  20     4124.85            15059.58       75529.15       99.89
  40     2939.84            21546.35       81600.33       99.98
  60     2388.07            26589.78      107609.63      100.00
  80     2074.76            30606.80      102965.01      100.00
 100     2497.92            25409.14       88781.90      100.00
Done searching. Now saving results 
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_20_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_40_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_60_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_80_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_idx_uint32.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
Writing bin: /w/331/lucbr/CSC2233-Final-Project/data/fashion-mnist-784-euclidean/result_100_dists_float.bin
bin: #pts = 10000, #dims = 10, size = 400008B
Finished writing bin.
